{"version":3,"sources":["webpack://agro-fresh-dl-admin/./src/firebase/index.js","webpack://agro-fresh-dl-admin/./src/features/user.js","webpack://agro-fresh-dl-admin/./src/features/products.js","webpack://agro-fresh-dl-admin/./src/features/offers.js","webpack://agro-fresh-dl-admin/./src/features/freshBasket.js","webpack://agro-fresh-dl-admin/./src/store.js","webpack://agro-fresh-dl-admin/./src/components/auth/SignIn.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/AccountMenu.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Title.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Chart.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Deposits.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Orders.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Main.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/NewProduct.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Products.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/NewOffer.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Offers.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/NewFreshBasket.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/FreshBasket.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/MainListItems.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/SecondaryListItems.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Copyright.js","webpack://agro-fresh-dl-admin/./src/components/dashboard/Dashboard.js","webpack://agro-fresh-dl-admin/./src/components/App.js","webpack://agro-fresh-dl-admin/./src/index.js"],"names":["firebase","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","userSlice","createSlice","name","initialState","user","signIn","userLoading","reducers","userIsLoading","state","getUser","action","payload","getUserFailure","userSelector","actions","products","productsLoading","productsSlice","productsIsLoading","getProducts","push","getProductsFailure","deleting","index","findIndex","product","productName","splice","add","unshift","clear","Object","assign","productsSelector","addProducts","dispatch","collection","where","onSnapshot","querySnapshot","docChanges","forEach","change","type","console","log","doc","data","offers","offersLoading","offersSlice","loading","getOffers","failure","offer","offerCode","offersSelector","freshBasketSlice","freshBasketSelector","freshBasket","store","configureStore","reducer","userReducer","productsReducer","offersReducer","freshbasketReducer","middleware","getDefaultMiddleware","thunk","serializableCheck","Copyright","Typography","variant","color","align","Link","href","Date","getFullYear","useStyles","makeStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","submit","SignIn","classes","useState","username","setUsername","password","setPassword","history","useHistory","Container","component","maxWidth","CssBaseline","className","Avatar","LockOutlined","noValidate","TextField","required","fullWidth","id","label","autoComplete","autoFocus","onChange","e","target","value","FormControlLabel","control","Checkbox","Button","onClick","preventDefault","signInWithEmailAndPassword","then","err","Grid","container","item","xs","Box","mt","root","marginRight","AccountMenu","React","open","setOpen","anchorRef","handleClose","event","current","contains","handleLogout","signOut","handleListKeyDown","key","prevOpen","focus","IconButton","ref","undefined","AccountCircle","style","Popper","anchorEl","role","transition","disablePortal","TransitionProps","placement","Grow","transformOrigin","Paper","ClickAwayListener","onClickAway","MenuList","autoFocusItem","onKeyDown","MenuItem","Title","props","gutterBottom","children","createData","time","amount","propTypes","PropTypes","Chart","useTheme","ResponsiveContainer","LineChart","top","right","bottom","left","XAxis","dataKey","stroke","text","YAxis","Label","angle","position","textAnchor","fill","primary","Line","dot","depositContext","flex","Deposits","date","shipTo","paymentMethod","rows","seeMore","Orders","Table","size","TableHead","TableRow","TableCell","TableBody","map","row","padding","overflow","fixedHeight","height","Main","fixedHeightPaper","clsx","md","lg","getModalStyle","transform","input","background","border","boxShadow","shadows","NewProduct","modalStyle","setProductName","quantity","setQuantity","sellingPrice","setSellingPrice","discountPrice","setDiscountPrice","description","setDescription","regular","setRegular","bulk","setBulk","vegetable","setVegetable","fruit","setFruit","exotic","setExotic","imageFile","setImageFile","imageURL","setImageURL","imageUploading","setImageUploading","uploadProgress","setUploadProgress","packageOf","setPackageOf","minOrderQty","setMinOrderQty","useDispatch","body","ChipInput","defaultValue","chips","chip","placeholder","FormGroup","labelPlacement","checked","accept","multiple","files","htmlFor","uploadTask","child","put","contentType","on","snapshot","progress","bytesTransferred","totalBytes","error","code","getDownloadURL","downloadURL","CloudUpload","marginLeft","created","modified","set","marginBottom","Modal","onClose","descendingComparator","a","b","orderBy","headCells","numeric","disablePadding","EnhancedTableHead","onSelectAllClick","order","numSelected","rowCount","onRequestSort","indeterminate","inputProps","headCell","sortDirection","TableSortLabel","active","direction","property","visuallyHidden","isRequired","useToolbarStyles","paddingLeft","paddingRight","highlight","lighten","light","dark","title","deleteData","productRef","get","empty","storageRef","refFromURL","EnhancedTableToolbar","selected","setSelected","useSelector","Toolbar","Tooltip","deleteProducts","Delete","FilterList","table","minWidth","clip","Products","setOrder","setOrderBy","page","setPage","dense","setDense","rowsPerPage","setRowsPerPage","useEffect","query","emptyRows","Math","min","length","array","comparator","stabilizedThis","seconds","nanoseconds","toLocaleDateString","toLocaleTimeString","TableContainer","newSelecteds","getComparator","el","sort","slice","isItemSelected","indexOf","labelId","hover","selectedIndex","newSelected","concat","handleClick","tabIndex","scope","src","String","colSpan","TablePagination","rowsPerPageOptions","count","onPageChange","newPage","onRowsPerPageChange","parseInt","Switch","NewOffer","setOfferCode","discount","setDiscount","offerRef","deleteOffers","Offers","NewFreshBasket","bucketItems","setBucketItems","productCategory","FreshBasket","toString","replace","MainListItems","ListItem","button","ListItemIcon","Dashboard","ListItemText","ShoppingCart","People","BarChart","Layers","SecondaryListItems","ListSubheader","inset","Assignment","toolbar","toolbarIcon","justifyContent","mixins","appBar","zIndex","drawer","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","enteringScreen","menuButton","menuButtonHidden","flexGrow","drawerPaper","whiteSpace","drawerPaperClose","overflowX","breakpoints","up","appBarSpacer","content","paddingTop","paddingBottom","AppBar","edge","Menu","noWrap","Badge","badgeContent","Notifications","Drawer","ChevronLeft","Divider","List","pt","App","onAuthStateChanged","uid","path","document","createElement","setAttribute","appendChild","ReactDOM"],"mappings":"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","file":"static/app.a0d186fb831d292b26c0.js","sourcesContent":["import firebase from 'firebase/app'\r\nimport 'firebase/auth'\r\nimport 'firebase/storage'\r\nimport 'firebase/firestore'\r\n\r\n// Initialize Firebase\r\nconst firebaseConfig = {\r\n  apiKey: \"AIzaSyCsbVcOkvH6UuZOxf9PwEKf_MG5V3GViQ4\",\r\n  authDomain: \"agrofreshdl-23f35.firebaseapp.com\",\r\n  projectId: \"agrofreshdl-23f35\",\r\n  storageBucket: \"agrofreshdl-23f35.appspot.com\",\r\n  messagingSenderId: \"1036768144779\",\r\n  appId: \"1:1036768144779:web:245679f638c067dd5e938e\",\r\n  measurementId: \"G-2QTFZGFK15\"\r\n};\r\n\r\nif(!firebase.apps.length) {\r\n    firebase.initializeApp(firebaseConfig);\r\n}\r\n\r\nexport default firebase;","import { createSlice } from '@reduxjs/toolkit'\r\nimport firebase from '../firebase'\r\n\r\nconst initialState = {\r\n    user: null,\r\n    signIn: false,\r\n    userLoading: false,\r\n}\r\n\r\nexport const userSlice = createSlice({\r\n    name: 'user',\r\n    initialState,\r\n    reducers: {\r\n        userIsLoading: (state) => {\r\n            state.userLoading = true;\r\n        },\r\n        getUser: (state, action) => {\r\n            state.user = action.payload;\r\n            state.signIn = true;\r\n            state.userLoading = false;\r\n        },\r\n        getUserFailure: (state) => {\r\n            state.userLoading = false;\r\n        },\r\n    }\r\n})\r\n\r\nexport const userSelector = (state) => state.user;\r\n\r\nexport const {\r\n    userIsLoading,\r\n    getUser,\r\n    getUserFailure\r\n} = userSlice.actions;\r\n\r\nexport default userSlice.reducer;\r\n\r\nexport function fetchUser() {\r\n    return async (dispatch) => {\r\n        dispatch(userIsLoading)\r\n        \r\n        firebase\r\n            .auth()\r\n            .onAuthStateChanged(user => {\r\n                (!user) ? dispatch(getUserFailure()) \r\n                    : dispatch(getUser(user.uid))\r\n            })\r\n\r\n    }\r\n}","import { createSlice } from '@reduxjs/toolkit'\r\nimport firebase from '../firebase'\r\n\r\nconst initialState = {\r\n    products: [],\r\n    productsLoading: false,\r\n    \r\n}\r\n\r\nexport const productsSlice = createSlice({\r\n    name: 'products',\r\n    initialState,\r\n    reducers: {\r\n        productsIsLoading: (state) => {\r\n            state.productsLoading = true;\r\n        },\r\n        getProducts: (state, action) => {\r\n            state.products.push(action.payload)\r\n            state.productsLoading = false;\r\n        },\r\n        getProductsFailure: (state) => {\r\n            state.productsLoading = false;\r\n        },\r\n        deleting:(state, action) => {\r\n            let index = state.products.findIndex(product => product.productName === action.payload);\r\n            state.products.splice(index, 1);\r\n        },\r\n        add: (state, action) => {\r\n            state.products.unshift(action.payload);\r\n        },\r\n        clear: (state) => {\r\n            Object.assign(state, initialState);\r\n        }\r\n        \r\n    }\r\n})\r\n\r\nexport const productsSelector = (state) => state.products;\r\n\r\nexport const {\r\n    productsIsLoading,\r\n    getProducts,\r\n    getProductsFailure,\r\n    deleting,\r\n    add,\r\n    clear\r\n} = productsSlice.actions;\r\n\r\nexport default productsSlice.reducer;\r\n\r\nexport function fetchProducts() {\r\n    return async (dispatch) => {\r\n        dispatch(productsIsLoading)\r\n        \r\n        const query = firebase.firestore().collection('products').orderBy('modified', 'desc')\r\n\r\n        const snapshot = await query.get();\r\n\r\n        if(snapshot.empty){\r\n            dispatch(getProductsFailure())\r\n        } else {\r\n            snapshot.forEach(doc => {\r\n                dispatch(getProducts(doc.data()));\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function clearProducts () {\r\n    return (dispatch) => {\r\n        dispatch(clear());\r\n    }\r\n}\r\n\r\nexport function deleteProducts(name) {\r\n    return (dispatch) => {\r\n        dispatch(deleting(name))\r\n    }\r\n}\r\n\r\nexport function addProducts(name) {\r\n    return (dispatch) => {\r\n        const query = firebase\r\n                        .firestore()\r\n                        .collection('products')\r\n                        .where('productName','==',name);\r\n        \r\n        query.onSnapshot(querySnapshot => {\r\n            querySnapshot.docChanges().forEach(change => {\r\n                if(change.type === 'added') {\r\n                    console.log(change.doc.data());\r\n                    dispatch(add(change.doc.data()));\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import { createSlice } from '@reduxjs/toolkit'\r\nimport firebase from '../firebase'\r\n\r\nconst initialState = {\r\n    offers: [],\r\n    offersLoading: false,\r\n    \r\n}\r\n\r\nexport const offersSlice = createSlice({\r\n    name: 'offers',\r\n    initialState,\r\n    reducers: {\r\n        loading: (state) => {\r\n            state.offersLoading = true;\r\n        },\r\n        getOffers: (state, action) => {\r\n            state.offers.push(action.payload)\r\n            state.offersLoading = false;\r\n        },\r\n        failure: (state) => {\r\n            state.offersLoading = false;\r\n        },\r\n        deleting:(state, action) => {\r\n            let index = state.offers.findIndex(offer => offer.offerCode === action.payload);\r\n            state.offers.splice(index, 1);\r\n        },\r\n        add: (state, action) => {\r\n            state.offers.unshift(action.payload);\r\n        },\r\n        clear: (state) => {\r\n            Object.assign(state, initialState);\r\n        }\r\n        \r\n    }\r\n})\r\n\r\nexport const offersSelector = (state) => state.offers;\r\n\r\nexport const {\r\n    loading,\r\n    getOffers,\r\n    failure,\r\n    deleting,\r\n    add,\r\n    clear\r\n} = offersSlice.actions;\r\n\r\nexport default offersSlice.reducer;\r\n\r\nexport function fetchOffers() {\r\n    return async (dispatch) => {\r\n        dispatch(loading)\r\n        \r\n        const query = firebase.firestore().collection('offers').orderBy('modified', 'desc')\r\n\r\n        const snapshot = await query.get();\r\n\r\n        if(snapshot.empty){\r\n            dispatch(failure())\r\n        } else {\r\n            snapshot.forEach(doc => {\r\n                dispatch(getOffers(doc.data()));\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function clearOffers () {\r\n    return (dispatch) => {\r\n        dispatch(clear());\r\n    }\r\n}\r\n\r\nexport function deleteOffers(name) {\r\n    return (dispatch) => {\r\n        dispatch(deleting(name))\r\n    }\r\n}\r\n\r\nexport function addOffers(name) {\r\n    return (dispatch) => {\r\n        const query = firebase\r\n                        .firestore()\r\n                        .collection('offers')\r\n                        .where('offerCode','==',name);\r\n        \r\n        query.onSnapshot(querySnapshot => {\r\n            querySnapshot.docChanges().forEach(change => {\r\n                if(change.type === 'added') {\r\n                    console.log(change.doc.data());\r\n                    dispatch(add(change.doc.data()));\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import { createSlice } from '@reduxjs/toolkit'\r\nimport firebase from '../firebase'\r\n\r\nconst initialState = {\r\n    products: [],\r\n    productsLoading: false,\r\n}\r\n\r\nexport const freshBasketSlice = createSlice({\r\n    name: 'freshBasket',\r\n    initialState,\r\n    reducers: {\r\n        productsIsLoading: (state) => {\r\n            state.productsLoading = true;\r\n        },\r\n        getProducts: (state, action) => {\r\n            state.products.push(action.payload)\r\n            state.productsLoading = false;\r\n        },\r\n        getProductsFailure: (state) => {\r\n            state.productsLoading = false;\r\n        },\r\n        deleting:(state, action) => {\r\n            let index = state.products.findIndex(product => product.productName === action.payload);\r\n            state.products.splice(index, 1);\r\n        },\r\n        add: (state, action) => {\r\n            state.products.unshift(action.payload);\r\n        },\r\n        clear: (state) => {\r\n            Object.assign(state, initialState);\r\n        }\r\n        \r\n    }\r\n})\r\n\r\nexport const freshBasketSelector = (state) => state.freshBasket;\r\n\r\nexport const {\r\n    productsIsLoading,\r\n    getProducts,\r\n    getProductsFailure,\r\n    deleting,\r\n    add,\r\n    clear\r\n} = freshBasketSlice.actions;\r\n\r\nexport default freshBasketSlice.reducer;\r\n\r\nexport function fetchProducts() {\r\n    return async (dispatch) => {\r\n        dispatch(productsIsLoading)\r\n        \r\n        const query = firebase.firestore().collection('freshBasket').orderBy('modified', 'desc')\r\n\r\n        const snapshot = await query.get();\r\n\r\n        if(snapshot.empty){\r\n            dispatch(getProductsFailure())\r\n            console.log(\"empty bucket\")\r\n        } else {\r\n            snapshot.forEach(doc => {\r\n                dispatch(getProducts(doc.data()));\r\n            })\r\n        }\r\n\r\n    }\r\n}\r\n\r\nexport function clearProducts () {\r\n    return (dispatch) => {\r\n        dispatch(clear());\r\n    }\r\n}\r\n\r\nexport function deleteProducts(name) {\r\n    return (dispatch) => {\r\n        dispatch(deleting(name))\r\n    }\r\n}\r\n\r\nexport function addProducts(name) {\r\n    return (dispatch) => {\r\n        const query = firebase\r\n                        .firestore()\r\n                        .collection('freshBasket')\r\n                        .where('productName','==',name);\r\n        \r\n        query.onSnapshot(querySnapshot => {\r\n            querySnapshot.docChanges().forEach(change => {\r\n                if(change.type === 'added') {\r\n                    console.log(change.doc.data());\r\n                    dispatch(add(change.doc.data()));\r\n                }\r\n            })\r\n        })\r\n    }\r\n}","import { configureStore } from '@reduxjs/toolkit'\r\nimport userReducer from './features/user'\r\nimport productsReducer from './features/products'\r\nimport offersReducer from './features/offers'\r\nimport freshbasketReducer from './features/freshBasket'\r\n\r\nexport const store = configureStore({\r\n  reducer: {\r\n      user: userReducer,\r\n      products: productsReducer,\r\n      offers: offersReducer,\r\n      freshBasket: freshbasketReducer\r\n  },\r\n  middleware: (getDefaultMiddleware) => \r\n    getDefaultMiddleware({\r\n      thunk:{\r\n        \r\n      },\r\n      serializableCheck: false,\r\n    })\r\n  \r\n})","import React,{useState} from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Box from '@material-ui/core/Box';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport firebase from '../../firebase'\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nfunction Copyright() {\r\n  return (\r\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n      {'Copyright  '}\r\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n        Your Website\r\n      </Link>{' '}\r\n      {new Date().getFullYear()}\r\n      {'.'}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  paper: {\r\n    marginTop: theme.spacing(8),\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n  avatar: {\r\n    margin: theme.spacing(1),\r\n    backgroundColor: theme.palette.secondary.main,\r\n  },\r\n  form: {\r\n    width: '100%', // Fix IE 11 issue.\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n  },\r\n}));\r\n\r\nexport default function SignIn() {\r\n\r\n  const classes = useStyles();\r\n\r\n  const [username, setUsername] = useState('')\r\n  const [password, setPassword] = useState('')\r\n\r\n  const history = useHistory()\r\n\r\n  function handleLogin(e) {\r\n      e.preventDefault()\r\n      firebase\r\n        .auth()\r\n        .signInWithEmailAndPassword(\r\n            username,\r\n            password\r\n        )\r\n        .then(()=> {\r\n            console.log('signin successfull')\r\n            history.push(\"/\")\r\n        })\r\n        .catch(err => console.log(err));      \r\n  }\r\n\r\n  return (\r\n    <Container component=\"main\" maxWidth=\"xs\">\r\n      <CssBaseline />\r\n      <div className={classes.paper}>\r\n        <Avatar className={classes.avatar}>\r\n          <LockOutlinedIcon />\r\n        </Avatar>\r\n        <Typography component=\"h1\" variant=\"h5\">\r\n          Sign in\r\n        </Typography>\r\n        <form className={classes.form} noValidate>\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            id=\"email\"\r\n            label=\"Email Address\"\r\n            name=\"email\"\r\n            autoComplete=\"email\"\r\n            autoFocus\r\n            onChange={(e)=>setUsername(e.target.value)}\r\n            value={username}\r\n          />\r\n          <TextField\r\n            variant=\"outlined\"\r\n            margin=\"normal\"\r\n            required\r\n            fullWidth\r\n            name=\"password\"\r\n            label=\"Password\"\r\n            type=\"password\"\r\n            id=\"password\"\r\n            autoComplete=\"current-password\"\r\n            onChange={(e)=> setPassword(e.target.value)}\r\n            value={password}\r\n          />\r\n          <FormControlLabel\r\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\r\n            label=\"Remember me\"\r\n          />\r\n          <Button\r\n            type=\"submit\"\r\n            fullWidth\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.submit}\r\n            onClick={handleLogin}\r\n          >\r\n            Sign In\r\n          </Button>\r\n          <Grid container>\r\n            <Grid item xs>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                Forgot password?\r\n              </Link>\r\n            </Grid>\r\n            <Grid item>\r\n              <Link href=\"#\" variant=\"body2\">\r\n                {\"Don't have an account? Sign Up\"}\r\n              </Link>\r\n            </Grid>\r\n          </Grid>\r\n        </form>\r\n      </div>\r\n      <Box mt={8}>\r\n        <Copyright />\r\n      </Box>\r\n    </Container>\r\n  );\r\n}\r\n","import React from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport ClickAwayListener from '@material-ui/core/ClickAwayListener';\r\nimport Grow from '@material-ui/core/Grow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Popper from '@material-ui/core/Popper';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport MenuList from '@material-ui/core/MenuList';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle';\r\n\r\nimport firebase from '../../firebase'\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  paper: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nexport default function AccountMenu() {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false);\r\n  const anchorRef = React.useRef(null);\r\n\r\n  const history = useHistory();\r\n\r\n  const handleToggle = () => {\r\n    setOpen((prevOpen) => !prevOpen);\r\n  };\r\n\r\n  const handleClose = (event) => {\r\n    if (anchorRef.current && anchorRef.current.contains(event.target)) {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleLogout = e => {\r\n      firebase\r\n        .auth()\r\n        .signOut()\r\n        .then(() => history.push(\"/signin\"))\r\n        .catch(err => console.log(err));\r\n  }\r\n\r\n  function handleListKeyDown(event) {\r\n    if (event.key === 'Tab') {\r\n      event.preventDefault();\r\n      setOpen(false);\r\n    }\r\n  }\r\n\r\n  // return focus to the button when we transitioned from !open -> open\r\n  const prevOpen = React.useRef(open);\r\n  React.useEffect(() => {\r\n    if (prevOpen.current === true && open === false) {\r\n      anchorRef.current.focus();\r\n    }\r\n\r\n    prevOpen.current = open;\r\n  }, [open]);\r\n\r\n  return (\r\n\r\n        <>\r\n        <IconButton \r\n            ref={anchorRef}\r\n            aria-controls={open ? 'menu-list-grow' : undefined}\r\n            aria-haspopup=\"true\"\r\n            onClick={handleToggle}\r\n        >\r\n            <AccountCircleIcon style={{ color: 'white' }} />\r\n        </IconButton>\r\n        \r\n        <Popper open={open} anchorEl={anchorRef.current} role={undefined} transition disablePortal>\r\n          {({ TransitionProps, placement }) => (\r\n            <Grow\r\n              {...TransitionProps}\r\n              style={{ transformOrigin: placement === 'bottom' ? 'center top' : 'center bottom' }}\r\n            >\r\n              <Paper>\r\n                <ClickAwayListener onClickAway={handleClose}>\r\n                  <MenuList autoFocusItem={open} id=\"menu-list-grow\" onKeyDown={handleListKeyDown}>\r\n                    <MenuItem onClick={handleClose}>Profile</MenuItem>\r\n                    <MenuItem onClick={handleClose}>My account</MenuItem>\r\n                    <MenuItem onClick={handleLogout}>Logout</MenuItem>\r\n                  </MenuList>\r\n                </ClickAwayListener>\r\n              </Paper>\r\n            </Grow>\r\n          )}\r\n        </Popper>\r\n        </>\r\n   \r\n  );\r\n}","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport Typography from '@material-ui/core/Typography';\r\n\r\nexport default function Title(props) {\r\n  return (\r\n    <Typography component=\"h2\" variant=\"h6\" color=\"primary\" gutterBottom>\r\n      {props.children}\r\n    </Typography>\r\n  );\r\n}\r\n\r\nTitle.propTypes = {\r\n  children: PropTypes.node,\r\n};","import React from 'react';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport { LineChart, Line, XAxis, YAxis, Label, ResponsiveContainer } from 'recharts';\r\nimport Title from './Title';\r\n\r\n// Generate Sales Data\r\nfunction createData(time, amount) {\r\n  return { time, amount };\r\n}\r\n\r\nconst data = [\r\n  createData('00:00', 0),\r\n  createData('03:00', 300),\r\n  createData('06:00', 600),\r\n  createData('09:00', 800),\r\n  createData('12:00', 1500),\r\n  createData('15:00', 2000),\r\n  createData('18:00', 2400),\r\n  createData('21:00', 2400),\r\n  createData('24:00', undefined),\r\n];\r\n\r\nexport default function Chart() {\r\n  const theme = useTheme();\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Today</Title>\r\n      <ResponsiveContainer>\r\n        <LineChart\r\n          data={data}\r\n          margin={{\r\n            top: 16,\r\n            right: 16,\r\n            bottom: 0,\r\n            left: 24,\r\n          }}\r\n        >\r\n          <XAxis dataKey=\"time\" stroke={theme.palette.text.secondary} />\r\n          <YAxis stroke={theme.palette.text.secondary}>\r\n            <Label\r\n              angle={270}\r\n              position=\"left\"\r\n              style={{ textAnchor: 'middle', fill: theme.palette.text.primary }}\r\n            >\r\n              Sales ($)\r\n            </Label>\r\n          </YAxis>\r\n          <Line type=\"monotone\" dataKey=\"amount\" stroke={theme.palette.primary.main} dot={false} />\r\n        </LineChart>\r\n      </ResponsiveContainer>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Title from './Title';\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles({\r\n  depositContext: {\r\n    flex: 1,\r\n  },\r\n});\r\n\r\nexport default function Deposits() {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Deposits</Title>\r\n      <Typography component=\"p\" variant=\"h4\">\r\n        $3,024.00\r\n      </Typography>\r\n      <Typography color=\"textSecondary\" className={classes.depositContext}>\r\n        on 15 March, 2019\r\n      </Typography>\r\n      <div>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          View balance\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react';\r\nimport Link from '@material-ui/core/Link';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Title from './Title';\r\n\r\n// Generate Order Data\r\nfunction createData(id, date, name, shipTo, paymentMethod, amount) {\r\n  return { id, date, name, shipTo, paymentMethod, amount };\r\n}\r\n\r\nconst rows = [\r\n  createData(0, '16 Mar, 2019', 'Elvis Presley', 'Tupelo, MS', 'VISA  3719', 312.44),\r\n  createData(1, '16 Mar, 2019', 'Paul McCartney', 'London, UK', 'VISA  2574', 866.99),\r\n  createData(2, '16 Mar, 2019', 'Tom Scholz', 'Boston, MA', 'MC  1253', 100.81),\r\n  createData(3, '16 Mar, 2019', 'Michael Jackson', 'Gary, IN', 'AMEX  2000', 654.39),\r\n  createData(4, '15 Mar, 2019', 'Bruce Springsteen', 'Long Branch, NJ', 'VISA  5919', 212.79),\r\n];\r\n\r\nfunction preventDefault(event) {\r\n  event.preventDefault();\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  seeMore: {\r\n    marginTop: theme.spacing(3),\r\n  },\r\n}));\r\n\r\nexport default function Orders() {\r\n  const classes = useStyles();\r\n  return (\r\n    <React.Fragment>\r\n      <Title>Recent Orders</Title>\r\n      <Table size=\"small\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell>Date</TableCell>\r\n            <TableCell>Name</TableCell>\r\n            <TableCell>Ship To</TableCell>\r\n            <TableCell>Payment Method</TableCell>\r\n            <TableCell align=\"right\">Sale Amount</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {rows.map((row) => (\r\n            <TableRow key={row.id}>\r\n              <TableCell>{row.date}</TableCell>\r\n              <TableCell>{row.name}</TableCell>\r\n              <TableCell>{row.shipTo}</TableCell>\r\n              <TableCell>{row.paymentMethod}</TableCell>\r\n              <TableCell align=\"right\">{row.amount}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n      <div className={classes.seeMore}>\r\n        <Link color=\"primary\" href=\"#\" onClick={preventDefault}>\r\n          See more orders\r\n        </Link>\r\n      </div>\r\n    </React.Fragment>\r\n  );\r\n}","import React from 'react'\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Chart from './Chart';\r\nimport Deposits from './Deposits';\r\nimport Orders from './Orders';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      padding: theme.spacing(2),\r\n      display: 'flex',\r\n      overflow: 'auto',\r\n      flexDirection: 'column',\r\n    },\r\n    fixedHeight: {\r\n      height: 240,\r\n    }\r\n  }));\r\n\r\nexport default function Main() {\r\n    const classes = useStyles();\r\n    const fixedHeightPaper = clsx(classes.paper, classes.fixedHeight);\r\n    return (\r\n        <>\r\n            <Grid container spacing={3}>\r\n            {/* Chart */}\r\n            <Grid item xs={12} md={8} lg={9}>\r\n              <Paper className={fixedHeightPaper}>\r\n                <Chart />\r\n              </Paper>\r\n            </Grid>\r\n            {/* Recent Deposits */}\r\n            <Grid item xs={12} md={4} lg={3}>\r\n              <Paper className={fixedHeightPaper}>\r\n                <Deposits />\r\n              </Paper>\r\n            </Grid>\r\n            {/* Recent Orders */}\r\n            <Grid item xs={12}>\r\n              <Paper className={classes.paper}>\r\n                <Orders />\r\n              </Paper>\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n    )\r\n}\r\n","import React,{useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ChipInput from 'material-ui-chip-input'\r\n\r\n\r\nimport firebase from '../../firebase'\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {addProducts, productsSelector} from '../../features/products'\r\n\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 ;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input:{\r\n    display:'none'\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 800,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function NewProduct() {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [productName, setProductName] = useState('');\r\n  const [quantity, setQuantity] = useState('');\r\n  const [sellingPrice, setSellingPrice] = useState('');\r\n  const [discountPrice, setDiscountPrice] = useState('');\r\n  const [description, setDescription] = useState('');\r\n  const [regular, setRegular] = useState(false);\r\n  const [bulk, setBulk] = useState(false);\r\n  const [vegetable, setVegetable] = useState(false);\r\n  const [fruit, setFruit] = useState(false);\r\n  const [exotic, setExotic] = useState(false);\r\n  const [imageFile, setImageFile] = useState(null);\r\n  const [imageURL, setImageURL] = useState('');\r\n  const [imageUploading, setImageUploading] = useState(false);\r\n  const [uploadProgress, setUploadProgress] = useState(null);\r\n  const [packageOf, setPackageOf] = useState([]);\r\n  const [minOrderQty, setMinOrderQty] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n\r\n    setProductName('');\r\n    setQuantity('');\r\n    setSellingPrice('');\r\n    setDiscountPrice('');\r\n    setDescription('');\r\n    setRegular(false);\r\n    setBulk(false);\r\n    setVegetable(false);\r\n    setFruit(false);\r\n    setExotic(false);\r\n    setImageFile(null);\r\n    setImageURL('');\r\n    setMinOrderQty('');\r\n    setUploadProgress(null);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n    if(imageURL === \"\" || imageURL === null || imageURL === undefined) {\r\n      console.log('imageURL not set');\r\n      return;\r\n    }\r\n\r\n    if(!productName\r\n        &&!quantity\r\n        &&!sellingPrice\r\n        &&!discountPrice\r\n        &&!description\r\n        &&(!exotic||!vegetable||!fruit)\r\n      ) {\r\n        return console.log(\"cannot left blank\")\r\n      }\r\n\r\n    handleClose();\r\n\r\n    const data = {\r\n      productName,\r\n      quantity,\r\n      sellingPrice,\r\n      discountPrice,\r\n      description,\r\n      regular,\r\n      bulk,\r\n      vegetable,\r\n      fruit,\r\n      exotic,\r\n      packageOf,\r\n      minOrderQty,\r\n      imageURL,\r\n      created: firebase.firestore.FieldValue.serverTimestamp(),\r\n      modified: firebase.firestore.FieldValue.serverTimestamp()\r\n    }\r\n\r\n    firebase.firestore().collection('products').doc().set(data)\r\n      .then(dispatch(addProducts(productName)));\r\n    \r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleChange = (chip) => {\r\n    console.log(chip);\r\n    setPackageOf(chip);\r\n  }\r\n\r\n  const handleImageFile = (e) => {\r\n    setImageFile(e.target.files[0]);\r\n    console.log(imageFile);\r\n  }\r\n\r\n  const handleUpload = (e) => {\r\n    // Create the file metadata\r\n\r\n    if(!productName\r\n      &&!quantity\r\n      &&!sellingPrice\r\n      &&!discountPrice\r\n      &&!description\r\n      &&(!exotic||!vegetable||!fruit)\r\n    ) {\r\n      return console.log(\"cannot left blank\")\r\n    }\r\n\r\n    let metadata = {\r\n      contentType: 'image'\r\n    }\r\n\r\n    let storageRef = firebase.storage().ref();\r\n\r\n    // Upload file and metadata to the object 'images/mountains.jpg'\r\n    let uploadTask = storageRef.child('products/' + imageFile.name).put(imageFile, metadata);\r\n\r\n    // Listen for state changes, errors, and completion of the upload.\r\n    uploadTask.on(firebase.storage.TaskEvent.STATE_CHANGED, // or 'state_changed'\r\n    (snapshot) => {\r\n      // Get task progress, including the number of bytes uploaded and the total number of bytes to be uploaded\r\n      let progress = (snapshot.bytesTransferred / snapshot.totalBytes) * 100;\r\n      console.log('Upload is ' + progress + '% done');\r\n      setImageUploading(true)\r\n      setUploadProgress(progress);\r\n\r\n      switch (snapshot.state) {\r\n        case firebase.storage.TaskState.PAUSED: // or 'paused'\r\n          console.log('Upload is paused');\r\n          break;\r\n        case firebase.storage.TaskState.RUNNING: // or 'running'\r\n          console.log('Upload is running');\r\n          break;\r\n      }\r\n    }, \r\n    (error) => {\r\n      // A full list of error codes is available at\r\n      // https://firebase.google.com/docs/storage/web/handle-errors\r\n      switch (error.code) {\r\n        case 'storage/unauthorized':\r\n          // User doesn't have permission to access the object\r\n          break;\r\n        case 'storage/canceled':\r\n          // User canceled the upload\r\n          break;\r\n\r\n        // ...\r\n\r\n        case 'storage/unknown':\r\n          // Unknown error occurred, inspect error.serverResponse\r\n          break;\r\n      }\r\n    }, \r\n    () => {\r\n      setImageUploading(false);\r\n        // Upload completed successfully, now we can get the download URL\r\n        uploadTask.snapshot.ref.getDownloadURL().then((downloadURL) => {\r\n          console.log('File available at', downloadURL);\r\n          setImageURL(downloadURL);\r\n        });\r\n      }\r\n    );\r\n\r\n  }\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <form>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n        >\r\n          <Grid\r\n            container\r\n            item\r\n            spacing={2}\r\n          >\r\n            <Grid \r\n              item\r\n              xs={4}            \r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Product Name\" variant=\"outlined\" fullWidth value={productName} onChange={e=>setProductName(e.target.value)}/>\r\n            </Grid>\r\n            <Grid \r\n              item\r\n              xs={4}\r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Quantity\" variant=\"outlined\" value={quantity} onChange={e=>setQuantity(e.target.value)}fullWidth/>\r\n            </Grid>\r\n            <Grid \r\n              item\r\n              xs={4}\r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Selling Price\" variant=\"outlined\" value={sellingPrice} onChange={e=>setSellingPrice(e.target.value)} fullWidth/>\r\n            </Grid>\r\n          </Grid>\r\n          <Grid\r\n              item\r\n              container\r\n              spacing={2}\r\n            >\r\n              <Grid \r\n                item\r\n                xs={3}\r\n              >\r\n                  <TextField id=\"filled-basic\" label=\"Discount Price\" variant=\"outlined\" value={discountPrice} onChange={e=>setDiscountPrice(e.target.value)} fullWidth/>\r\n              </Grid>\r\n              <Grid \r\n                item\r\n                xs={3}\r\n              >\r\n                  <TextField id=\"filled-basic\" label=\"Min Order Qty\" variant=\"outlined\" value={minOrderQty} onChange={e=>setMinOrderQty(e.target.value)} fullWidth/>\r\n              </Grid>\r\n              <Grid \r\n                item\r\n                xs={6}\r\n              >\r\n                  <TextField id=\"filled-basic\" label=\"Description\" variant=\"outlined\" value={description} onChange={e=>setDescription(e.target.value)} fullWidth/>\r\n              </Grid>\r\n          </Grid>\r\n          <Grid item xs={12}>\r\n            <ChipInput\r\n              defaultValue={[]}\r\n              onChange={(chips)=>handleChange(chips)}\r\n              fullWidth\r\n              placeholder=\"Enter packages\"\r\n            />\r\n          </Grid>\r\n          <Grid\r\n              item\r\n            >\r\n              <FormGroup\r\n                aria-label=\"position\"\r\n                row\r\n              >\r\n                    <FormControlLabel\r\n                      value=\"start\"\r\n                      control={<Checkbox color=\"primary\"/>}\r\n                      label=\"Regular\"\r\n                      labelPlacement=\"start\"\r\n                      checked={regular} \r\n                      onChange={e=>{\r\n                        setRegular(e.target.checked)\r\n                        setBulk(false)\r\n                      }}\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"start\"\r\n                      control={<Checkbox color=\"primary\" />}\r\n                      label=\"Bulk\"\r\n                      labelPlacement=\"start\"\r\n                      checked={bulk}\r\n                      onChange={e=>{\r\n                        setBulk(e.target.checked)\r\n                        setRegular(false)\r\n                      }}\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"start\"\r\n                      control={<Checkbox color=\"primary\" />}\r\n                      label=\"Vegetable\"\r\n                      labelPlacement=\"start\"\r\n                      checked={vegetable}\r\n                      onChange={e=>{\r\n                        setVegetable(e.target.checked)\r\n                        setFruit(false)\r\n                        setExotic(false)\r\n                      }}\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"start\"\r\n                      control={<Checkbox color=\"primary\" />}\r\n                      label=\"Fruit\"\r\n                      labelPlacement=\"start\"\r\n                      checked={fruit}\r\n                      onChange={e=>{\r\n                          setVegetable(false)\r\n                          setFruit(e.target.checked)\r\n                          setExotic(false)\r\n                      }}\r\n                    />\r\n                    <FormControlLabel\r\n                      value=\"start\"\r\n                      control={<Checkbox color=\"primary\" />}\r\n                      label=\"Exotic\"\r\n                      labelPlacement=\"start\"\r\n                      checked={exotic}\r\n                      onChange={e=>{\r\n                        setVegetable(false);\r\n                        setFruit(false)\r\n                        setExotic(e.target.checked)\r\n                      }}\r\n                    />\r\n              </FormGroup>\r\n            </Grid>\r\n            <Grid\r\n              item\r\n              container\r\n              spacing={2}\r\n            >\r\n              <Grid\r\n                item\r\n                xs={2}\r\n              >\r\n                <input\r\n                  accept=\"image/*\"\r\n                  className={classes.input}\r\n                  id=\"contained-button-file\"\r\n                  multiple\r\n                  type=\"file\"\r\n                  onChange={handleImageFile}\r\n                />\r\n                <label htmlFor=\"contained-button-file\">\r\n                  <Button variant=\"contained\" color=\"default\" component=\"span\">\r\n                    Browse\r\n                  </Button>\r\n                </label>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n                xs={1}\r\n              >\r\n                <Button variant=\"contained\" color=\"primary\" onClick={handleUpload}>\r\n                  <CloudUploadIcon/>\r\n                </Button>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n              >\r\n                <div style={{ marginLeft:18, marginTop:6 }}>\r\n                  {imageFile && imageFile.name}\r\n                </div>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n              >\r\n                <div style={{ marginLeft:18, marginTop:6 }}>\r\n                  {imageUploading && 'uploading...'}\r\n                </div>\r\n              </Grid>\r\n              <Grid\r\n                item\r\n              >\r\n                <div style={{ marginLeft:18, marginTop:6 }}>\r\n                  {uploadProgress && `${uploadProgress} %` }\r\n                </div>\r\n              </Grid>\r\n              <Grid\r\n                container\r\n                item\r\n                spacing={2}\r\n              >\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                >\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={2}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    onClick={handleClose}\r\n                  >Cancel</Button>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={2}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleSave}\r\n                  >Save</Button>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                >\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleOpen}\r\n        style={{ marginBottom:20 }}\r\n      >\r\n        New\r\n      </Button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport firebase from '../../firebase'\r\n\r\nimport NewProduct from './NewProduct'\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {fetchProducts, deleteProducts, clearProducts, productsSelector} from '../../features/products'\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n  { id: 'productName', numeric: false, disablePadding: true, label: 'Product Name' },\r\n  { id: 'imageURL', numeric: false, disablePadding: false, label: 'Image' },\r\n  { id: 'description', numeric: false, disablePadding: false, label: 'Description' },\r\n  { id: 'quantity', numeric: true, disablePadding: false, label: 'Quantity (in Kg)' },\r\n  { id: 'category', numeric: false, disablePadding: false, label: 'Category' },\r\n  { id: 'orderType', numeric: false, disablePadding: false, label: 'Order Type' },\r\n  { id: 'sellingPrice', numeric: true, disablePadding: false, label: 'Selling Price (in /kg)' },\r\n  { id: 'discountPrice', numeric: true, disablePadding: false, label: 'Discount Price (in /kg)' },\r\n  { id: 'packageOf', numeric: true, disablePadding: false, label: 'Packages (in Kg)' },\r\n  { id: 'minOrderQty', numeric: true, disablePadding: false, label: 'Min Order Qty (in Kg)' },\r\n  { id: 'created', numeric: false, disablePadding: false, label: 'Created' },\r\n  { id: 'modified', numeric: false, disablePadding: false, label: 'Modified' },\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell padding=\"checkbox\">\r\n          <Checkbox\r\n            indeterminate={numSelected > 0 && numSelected < rowCount}\r\n            checked={rowCount > 0 && numSelected === rowCount}\r\n            onChange={onSelectAllClick}\r\n            inputProps={{ 'aria-label': 'select all products' }}\r\n          />\r\n        </TableCell>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n}));\r\n\r\nconst deleteData = async (name) => {\r\n  const productRef = firebase.firestore()\r\n  .collection('products');\r\n  const snapshot = await productRef.where('productName', '==' ,name).get();\r\n\r\n  if(snapshot.empty) {\r\n    console.log('no match')\r\n    return;\r\n  }\r\n\r\n  snapshot.forEach(doc => {\r\n    console.log(doc.data().imageURL);\r\n    try{\r\n      const storageRef = firebase.storage().refFromURL(doc.data().imageURL);\r\n      if(storageRef !== null) {\r\n        storageRef.delete().then(() => {\r\n          console.log('successfully deleted')\r\n        }).catch(err => {\r\n          console.log(err);\r\n        });\r\n      }\r\n    } catch(e) {\r\n      console.log(\"storage ref err =>\", e);\r\n    }\r\n    \r\n    productRef.doc(doc.id).delete()\r\n      .then(() => console.log('deleted'))\r\n      .catch((err) => console.log(err));\r\n  });\r\n}\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, selected, setSelected } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const {products, productsLoading } = useSelector(productsSelector);\r\n  \r\n  console.log('num selected =>',numSelected);\r\n\r\n  const handleDelete = () => {\r\n    selected.forEach(name=> {\r\n      console.log(name)\r\n      deleteData(name);\r\n      let index = products.findIndex(product => product.productName == name);\r\n      console.log('index of...=>', index);\r\n      dispatch(deleteProducts(name));\r\n    })\r\n    setSelected([]);\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\r\n          Product List\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 ? (\r\n        <Tooltip title=\"Delete\">\r\n          <IconButton aria-label=\"delete\" onClick={handleDelete}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      ) : (\r\n        <Tooltip title=\"Filter list\">\r\n          <IconButton aria-label=\"filter list\">\r\n            <FilterListIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function Products() {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  const {products, productsLoading } = useSelector(productsSelector);\r\n\r\n  console.log(products, productsLoading)\r\n\r\n  console.log('products from products =>',products)\r\n  \r\n  useEffect(() => {\r\n      dispatch(clearProducts())\r\n      dispatch(fetchProducts())\r\n  }, [dispatch])\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = products.map((product) => product.productName);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => {\r\n    setDense(event.target.checked);\r\n  };\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, products.length - page * rowsPerPage);\r\n\r\n  console.log(selected);\r\n\r\n  const time = (seconds, nanoseconds) => {\r\n    if(seconds === null) {\r\n      const date = new Date();\r\n      return `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`\r\n    }\r\n    let totalTime = (seconds+nanoseconds*0.00000001)*1000;\r\n    const date =  new Date(totalTime);\r\n    return `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`\r\n}\r\n\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <NewProduct />\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar numSelected={selected.length} selected={selected} setSelected={setSelected}/>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={dense ? 'small' : 'medium'}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={products.length}\r\n            />\r\n            <TableBody>\r\n              {stableSort(products, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, key) => {\r\n                  const isItemSelected = isSelected(row.productName);\r\n                  const labelId = `enhanced-table-checkbox-${key}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      onClick={(event) => handleClick(event, row.productName)}\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={key}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      <TableCell padding=\"checkbox\">\r\n                        <Checkbox\r\n                          checked={isItemSelected}\r\n                          inputProps={{ 'aria-labelledby': labelId }}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.productName}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        <img src={row.imageURL} style={{ width:60 }}/>\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.description}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.quantity > 0 ? row.quantity : <div style={{ color:'red' }}>Out of stock</div>}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.fruit && 'Fruit'}\r\n                        {row.vegetable && 'Vegetable'}\r\n                        {row.exotic && 'Exotic'}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.bulk && 'Bulk'}\r\n                        {row.regular && 'Regular'}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.sellingPrice}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.discountPrice}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {String(row.packageOf)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.minOrderQty}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.created&&time(row.created.seconds, row.created.nanoseconds)}\r\n                        {!row.created && time(null)}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.modified&&time(row.modified.seconds, row.modified.nanoseconds)}\r\n                        {!row.modified&&time(null)}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={products.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n      <FormControlLabel\r\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n        label=\"Dense padding\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\n\r\nimport firebase from '../../firebase'\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {addOffers, offersSelector} from '../../features/offers'\r\n\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 ;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input:{\r\n    display:'none'\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 800,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function NewOffer() {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [offerCode, setOfferCode] = useState('');\r\n  const [discount, setDiscount] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n\r\n    setOfferCode('');\r\n    setDiscount('');\r\n\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n\r\n    handleClose();\r\n    const data = {\r\n      offerCode,\r\n      discount,\r\n      created: firebase.firestore.FieldValue.serverTimestamp(),\r\n      modified: firebase.firestore.FieldValue.serverTimestamp()\r\n    }\r\n\r\n    firebase.firestore().collection('offers').doc().set(data)\r\n      .then(dispatch(addOffers(offerCode)));\r\n    \r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <form>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n        >\r\n          <Grid\r\n            container\r\n            item\r\n            spacing={2}\r\n          >\r\n            <Grid \r\n              item\r\n              xs={8}            \r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Offer Code\" variant=\"outlined\" fullWidth value={offerCode} onChange={e=>setOfferCode(e.target.value)}/>\r\n            </Grid>\r\n            <Grid \r\n              item\r\n              xs={4}\r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Discount %\" variant=\"outlined\" value={discount} onChange={e=>setDiscount(e.target.value)}/>\r\n            </Grid>\r\n          </Grid>\r\n\r\n            <Grid\r\n              item\r\n              container\r\n              spacing={2}\r\n            >\r\n     \r\n              <Grid\r\n                container\r\n                item\r\n                spacing={2}\r\n              >\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                >\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={2}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    onClick={handleClose}\r\n                  >Cancel</Button>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={2}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleSave}\r\n                  >Save</Button>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                >\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleOpen}\r\n        style={{ marginBottom:20 }}\r\n      >\r\n        New\r\n      </Button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport firebase from '../../firebase'\r\n\r\nimport NewOffer from './NewOffer'\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {fetchOffers, deleteOffers, clearOffers, offersSelector} from '../../features/offers'\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n  { id: 'offerCode', numeric: false, disablePadding: true, label: 'Offer Code' },\r\n  { id: 'discount', numeric: true, disablePadding: true, label: 'Discount (in %)' },\r\n\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell padding=\"checkbox\">\r\n          <Checkbox\r\n            indeterminate={numSelected > 0 && numSelected < rowCount}\r\n            checked={rowCount > 0 && numSelected === rowCount}\r\n            onChange={onSelectAllClick}\r\n            inputProps={{ 'aria-label': 'select all offers' }}\r\n          />\r\n        </TableCell>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n}));\r\n\r\nconst deleteData = async (name) => {\r\n  const offerRef = firebase.firestore()\r\n  .collection('offers');\r\n  const snapshot = await offerRef.where('offerCode', '==' ,name).get();\r\n\r\n  if(snapshot.empty) {\r\n    console.log('no match')\r\n    return;\r\n  }\r\n\r\n  snapshot.forEach(doc => {\r\n    \r\n    offerRef.doc(doc.id).delete()\r\n      .then(() => console.log('deleted'))\r\n      .catch((err) => console.log(err));\r\n  });\r\n}\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, selected, setSelected } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const {offers, offersLoading } = useSelector(offersSelector);\r\n  \r\n  console.log('num selected =>',numSelected);\r\n\r\n  const handleDelete = () => {\r\n    selected.forEach(name=> {\r\n      console.log(name)\r\n      deleteData(name);\r\n      let index = offers.findIndex(product => product.offerCode == name);\r\n      console.log('index of...=>', index);\r\n      dispatch(deleteOffers(name));\r\n    })\r\n    setSelected([]);\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\r\n          Product List\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 ? (\r\n        <Tooltip title=\"Delete\">\r\n          <IconButton aria-label=\"delete\" onClick={handleDelete}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      ) : (\r\n        <Tooltip title=\"Filter list\">\r\n          <IconButton aria-label=\"filter list\">\r\n            <FilterListIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function Offers() {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  const {offers, offersLoading } = useSelector(offersSelector);\r\n\r\n  console.log(offers, offersLoading)\r\n\r\n  console.log('Offers from offers =>',offers)\r\n  \r\n  useEffect(() => {\r\n      dispatch(clearOffers())\r\n      dispatch(fetchOffers())\r\n  }, [dispatch])\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = offers.map((offer) => offer.offerCode);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => {\r\n    setDense(event.target.checked);\r\n  };\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, offers.length - page * rowsPerPage);\r\n\r\n  console.log(selected);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <NewOffer />\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar numSelected={selected.length} selected={selected} setSelected={setSelected}/>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={dense ? 'small' : 'medium'}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={offers.length}\r\n            />\r\n            <TableBody>\r\n              {stableSort(offers, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, key) => {\r\n                  const isItemSelected = isSelected(row.offerCode);\r\n                  const labelId = `enhanced-table-checkbox-${key}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      onClick={(event) => handleClick(event, row.offerCode)}\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={key}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      <TableCell padding=\"checkbox\">\r\n                        <Checkbox\r\n                          checked={isItemSelected}\r\n                          inputProps={{ 'aria-labelledby': labelId }}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.offerCode}\r\n                      </TableCell>\r\n                      <TableCell align=\"right\">\r\n                        {row.discount}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={offers.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n      <FormControlLabel\r\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n        label=\"Dense padding\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React,{useState} from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Modal from '@material-ui/core/Modal';\r\nimport Button from '@material-ui/core/Button';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport FormGroup from '@material-ui/core/FormGroup';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport ChipInput from 'material-ui-chip-input'\r\n\r\n\r\nimport firebase from '../../firebase'\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {addProducts, productsSelector} from '../../features/products'\r\n\r\n\r\nfunction getModalStyle() {\r\n  const top = 50 ;\r\n  const left = 50;\r\n\r\n  return {\r\n    top: `${top}%`,\r\n    left: `${left}%`,\r\n    transform: `translate(-${top}%, -${left}%)`,\r\n  };\r\n}\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  input:{\r\n    display:'none'\r\n  },\r\n  paper: {\r\n    position: 'absolute',\r\n    width: 800,\r\n    backgroundColor: theme.palette.background.paper,\r\n    border: '2px solid #000',\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n  },\r\n}));\r\n\r\nexport default function NewFreshBasket() {\r\n  const classes = useStyles();\r\n  // getModalStyle is not a pure function, we roll the style only on the first render\r\n  const [modalStyle] = React.useState(getModalStyle);\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const [productName, setProductName] = useState('');\r\n  const [sellingPrice, setSellingPrice] = useState('');\r\n  const [bucketItems, setBucketItems] = useState([]);\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n\r\n    setProductName('Fresh Basket');\r\n    setBucketItems([]);\r\n  };\r\n\r\n  const handleSave = (e) => {\r\n\r\n    if(!productName\r\n        && !sellingPrice\r\n      ) {\r\n        return console.log(\"cannot left blank\")\r\n      }\r\n\r\n    handleClose();\r\n\r\n    const data = {\r\n      productName,\r\n      sellingPrice,\r\n      bucketItems,\r\n      productCategory: \"freshBasket\",\r\n      created: firebase.firestore.FieldValue.serverTimestamp(),\r\n      modified: firebase.firestore.FieldValue.serverTimestamp()\r\n    }\r\n\r\n    firebase.firestore().collection('freshBasket').doc().set(data)\r\n      .then(dispatch(addProducts(productName)));\r\n    \r\n  }\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const handleChange = (chip) => {\r\n    console.log(chip);\r\n    setBucketItems(chip);\r\n  }\r\n\r\n  const body = (\r\n    <div style={modalStyle} className={classes.paper}>\r\n      <form>\r\n        <Grid\r\n          container\r\n          spacing={2}\r\n        >\r\n          <Grid\r\n            container\r\n            item\r\n            spacing={2}\r\n          >\r\n            <Grid \r\n              item\r\n              xs={4}            \r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Fresh Basket\" variant=\"outlined\" fullWidth value={productName} onChange={e=>setProductName(e.target.value)}/>\r\n            </Grid>\r\n            <Grid \r\n              item\r\n              xs={4}            \r\n              >\r\n                <TextField id=\"filled-basic\" label=\"Bucket Price ()\" variant=\"outlined\" fullWidth value={sellingPrice} onChange={e=>setSellingPrice(e.target.value)}/>\r\n            </Grid>\r\n                \r\n          </Grid>\r\n  \r\n          <Grid item xs={12}>\r\n            <ChipInput\r\n              defaultValue={[]}\r\n              onChange={(chips)=>handleChange(chips)}\r\n              fullWidth\r\n              placeholder=\"Add Bucket Items\"\r\n            />\r\n          </Grid>\r\n          <Grid\r\n              item\r\n            >\r\n      \r\n            </Grid>\r\n            <Grid\r\n              item\r\n              container\r\n              spacing={2}\r\n            >\r\n             \r\n              <Grid\r\n                container\r\n                item\r\n                spacing={2}\r\n              >\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                >\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={2}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"secondary\"\r\n                    onClick={handleClose}\r\n                  >Cancel</Button>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={2}\r\n                >\r\n                  <Button\r\n                    variant=\"contained\"\r\n                    color=\"primary\"\r\n                    onClick={handleSave}\r\n                  >Save</Button>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                >\r\n                </Grid>\r\n\r\n              </Grid>\r\n\r\n            </Grid>\r\n        </Grid>\r\n      </form>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div>\r\n      <Button variant=\"contained\" color=\"primary\" onClick={handleOpen}\r\n        style={{ marginBottom:20 }}\r\n      >\r\n        New\r\n      </Button>\r\n      <Modal\r\n        open={open}\r\n        onClose={handleClose}\r\n        aria-labelledby=\"simple-modal-title\"\r\n        aria-describedby=\"simple-modal-description\"\r\n      >\r\n        {body}\r\n      </Modal>\r\n    </div>\r\n  );\r\n}\r\n","import React, {useEffect} from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport clsx from 'clsx';\r\nimport { lighten, makeStyles } from '@material-ui/core/styles';\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TablePagination from '@material-ui/core/TablePagination';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport TableSortLabel from '@material-ui/core/TableSortLabel';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport Checkbox from '@material-ui/core/Checkbox';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\r\nimport Switch from '@material-ui/core/Switch';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport FilterListIcon from '@material-ui/icons/FilterList';\r\nimport firebase from '../../firebase'\r\n\r\nimport NewFreshBasket from './NewFreshBasket'\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {fetchProducts, deleteProducts, clearProducts, freshBasketSelector} from '../../features/freshBasket'\r\n\r\nfunction descendingComparator(a, b, orderBy) {\r\n  if (b[orderBy] < a[orderBy]) {\r\n    return -1;\r\n  }\r\n  if (b[orderBy] > a[orderBy]) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n}\r\n\r\nfunction getComparator(order, orderBy) {\r\n  return order === 'desc'\r\n    ? (a, b) => descendingComparator(a, b, orderBy)\r\n    : (a, b) => -descendingComparator(a, b, orderBy);\r\n}\r\n\r\nfunction stableSort(array, comparator) {\r\n  const stabilizedThis = array.map((el, index) => [el, index]);\r\n  stabilizedThis.sort((a, b) => {\r\n    const order = comparator(a[0], b[0]);\r\n    if (order !== 0) return order;\r\n    return a[1] - b[1];\r\n  });\r\n  return stabilizedThis.map((el) => el[0]);\r\n}\r\n\r\nconst headCells = [\r\n  { id: 'productName', numeric: false, disablePadding: true, label: 'Product Name' },\r\n  { id: 'bucketItems', numeric: true, disablePadding: true, label: 'Bucket Items' },\r\n  { id: 'bucketPrice', numeric: true, disablePadding: true, label: 'Bucket Price ()' },\r\n  { id: 'created', numeric: false, disablePadding: true, label: 'Created' },\r\n  { id: 'modified', numeric: false, disablePadding: true, label: 'Modified' },\r\n\r\n];\r\n\r\nfunction EnhancedTableHead(props) {\r\n  const { classes, onSelectAllClick, order, orderBy, numSelected, rowCount, onRequestSort } = props;\r\n  const createSortHandler = (property) => (event) => {\r\n    onRequestSort(event, property);\r\n  };\r\n\r\n  return (\r\n    <TableHead>\r\n      <TableRow>\r\n        <TableCell padding=\"checkbox\">\r\n          <Checkbox\r\n            indeterminate={numSelected > 0 && numSelected < rowCount}\r\n            checked={rowCount > 0 && numSelected === rowCount}\r\n            onChange={onSelectAllClick}\r\n            inputProps={{ 'aria-label': 'select all fresh bucket items' }}\r\n          />\r\n        </TableCell>\r\n        {headCells.map((headCell) => (\r\n          <TableCell\r\n            key={headCell.id}\r\n            align={headCell.numeric ? 'right' : 'left'}\r\n            padding={headCell.disablePadding ? 'none' : 'normal'}\r\n            sortDirection={orderBy === headCell.id ? order : false}\r\n          >\r\n            <TableSortLabel\r\n              active={orderBy === headCell.id}\r\n              direction={orderBy === headCell.id ? order : 'asc'}\r\n              onClick={createSortHandler(headCell.id)}\r\n            >\r\n              {headCell.label}\r\n              {orderBy === headCell.id ? (\r\n                <span className={classes.visuallyHidden}>\r\n                  {order === 'desc' ? 'sorted descending' : 'sorted ascending'}\r\n                </span>\r\n              ) : null}\r\n            </TableSortLabel>\r\n          </TableCell>\r\n        ))}\r\n      </TableRow>\r\n    </TableHead>\r\n  );\r\n}\r\n\r\nEnhancedTableHead.propTypes = {\r\n  classes: PropTypes.object.isRequired,\r\n  numSelected: PropTypes.number.isRequired,\r\n  onRequestSort: PropTypes.func.isRequired,\r\n  onSelectAllClick: PropTypes.func.isRequired,\r\n  order: PropTypes.oneOf(['asc', 'desc']).isRequired,\r\n  orderBy: PropTypes.string.isRequired,\r\n  rowCount: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useToolbarStyles = makeStyles((theme) => ({\r\n  root: {\r\n    paddingLeft: theme.spacing(2),\r\n    paddingRight: theme.spacing(1),\r\n  },\r\n  highlight:\r\n    theme.palette.type === 'light'\r\n      ? {\r\n          color: theme.palette.secondary.main,\r\n          backgroundColor: lighten(theme.palette.secondary.light, 0.85),\r\n        }\r\n      : {\r\n          color: theme.palette.text.primary,\r\n          backgroundColor: theme.palette.secondary.dark,\r\n        },\r\n  title: {\r\n    flex: '1 1 100%',\r\n  },\r\n}));\r\n\r\nconst deleteData = async (name) => {\r\n  const ref = firebase.firestore()\r\n  .collection('freshBasket');\r\n  const snapshot = await ref.where('freshBasket', '==' ,name).get();\r\n\r\n  if(snapshot.empty) {\r\n    console.log('no match')\r\n    return;\r\n  }\r\n\r\n  snapshot.forEach(doc => {\r\n    \r\n    ref.doc(doc.id).delete()\r\n      .then(() => console.log('deleted'))\r\n      .catch((err) => console.log(err));\r\n  });\r\n}\r\n\r\nconst EnhancedTableToolbar = (props) => {\r\n  const classes = useToolbarStyles();\r\n  const { numSelected, selected, setSelected } = props;\r\n\r\n  const dispatch = useDispatch();\r\n\r\n  const {products, productsLoading } = useSelector(freshBasketSelector);\r\n  \r\n  console.log('num selected =>',numSelected);\r\n\r\n  const handleDelete = () => {\r\n    selected.forEach(name=> {\r\n      console.log(name)\r\n      deleteData(name);\r\n      let index = products.findIndex(product => product.productName == name);\r\n      console.log('index of...=>', index);\r\n      dispatch(deleteProducts(name));\r\n    })\r\n    setSelected([]);\r\n  }\r\n\r\n  return (\r\n    <Toolbar\r\n      className={clsx(classes.root, {\r\n        [classes.highlight]: numSelected > 0,\r\n      })}\r\n    >\r\n      {numSelected > 0 ? (\r\n        <Typography className={classes.title} color=\"inherit\" variant=\"subtitle1\" component=\"div\">\r\n          {numSelected} selected\r\n        </Typography>\r\n      ) : (\r\n        <Typography className={classes.title} variant=\"h6\" id=\"tableTitle\" component=\"div\">\r\n          Product List\r\n        </Typography>\r\n      )}\r\n\r\n      {numSelected > 0 ? (\r\n        <Tooltip title=\"Delete\">\r\n          <IconButton aria-label=\"delete\" onClick={handleDelete}>\r\n            <DeleteIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      ) : (\r\n        <Tooltip title=\"Filter list\">\r\n          <IconButton aria-label=\"filter list\">\r\n            <FilterListIcon />\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n    </Toolbar>\r\n  );\r\n};\r\n\r\nEnhancedTableToolbar.propTypes = {\r\n  numSelected: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: '100%',\r\n  },\r\n  paper: {\r\n    width: '100%',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n  table: {\r\n    minWidth: 750,\r\n  },\r\n  visuallyHidden: {\r\n    border: 0,\r\n    clip: 'rect(0 0 0 0)',\r\n    height: 1,\r\n    margin: -1,\r\n    overflow: 'hidden',\r\n    padding: 0,\r\n    position: 'absolute',\r\n    top: 20,\r\n    width: 1,\r\n  },\r\n}));\r\n\r\nexport default function FreshBasket() {\r\n  const classes = useStyles();\r\n  const [order, setOrder] = React.useState('asc');\r\n  const [orderBy, setOrderBy] = React.useState('calories');\r\n  const [selected, setSelected] = React.useState([]);\r\n  const [page, setPage] = React.useState(0);\r\n  const [dense, setDense] = React.useState(false);\r\n  const [rowsPerPage, setRowsPerPage] = React.useState(5);\r\n\r\n  const dispatch = useDispatch();\r\n  \r\n  const {products, productsLoading } = useSelector(freshBasketSelector);\r\n\r\n  useEffect(() => {\r\n      dispatch(clearProducts())\r\n      dispatch(fetchProducts())\r\n  }, [dispatch])\r\n\r\n    const time = (seconds, nanoseconds) => {\r\n        if(seconds === null) {\r\n        const date = new Date();\r\n        return `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`\r\n        }\r\n        let totalTime = (seconds+nanoseconds*0.00000001)*1000;\r\n        const date =  new Date(totalTime);\r\n        return `${date.toLocaleDateString()} ${date.toLocaleTimeString()}`\r\n    }\r\n\r\n  console.log('fresh basket items >>>',products)\r\n\r\n  const handleRequestSort = (event, property) => {\r\n    const isAsc = orderBy === property && order === 'asc';\r\n    setOrder(isAsc ? 'desc' : 'asc');\r\n    setOrderBy(property);\r\n  };\r\n\r\n  const handleSelectAllClick = (event) => {\r\n    if (event.target.checked) {\r\n      const newSelecteds = products.map((item) => item.productName);\r\n      setSelected(newSelecteds);\r\n      return;\r\n    }\r\n    setSelected([]);\r\n  };\r\n\r\n  const handleClick = (event, name) => {\r\n    const selectedIndex = selected.indexOf(name);\r\n    let newSelected = [];\r\n\r\n    if (selectedIndex === -1) {\r\n      newSelected = newSelected.concat(selected, name);\r\n    } else if (selectedIndex === 0) {\r\n      newSelected = newSelected.concat(selected.slice(1));\r\n    } else if (selectedIndex === selected.length - 1) {\r\n      newSelected = newSelected.concat(selected.slice(0, -1));\r\n    } else if (selectedIndex > 0) {\r\n      newSelected = newSelected.concat(\r\n        selected.slice(0, selectedIndex),\r\n        selected.slice(selectedIndex + 1),\r\n      );\r\n    }\r\n\r\n    setSelected(newSelected);\r\n  };\r\n\r\n  const handleChangePage = (event, newPage) => {\r\n    setPage(newPage);\r\n  };\r\n\r\n  const handleChangeRowsPerPage = (event) => {\r\n    setRowsPerPage(parseInt(event.target.value, 10));\r\n    setPage(0);\r\n  };\r\n\r\n  const handleChangeDense = (event) => {\r\n    setDense(event.target.checked);\r\n  };\r\n\r\n  const isSelected = (name) => selected.indexOf(name) !== -1;\r\n\r\n  const emptyRows = rowsPerPage - Math.min(rowsPerPage, products.length - page * rowsPerPage);\r\n\r\n  console.log(selected);\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <NewFreshBasket />\r\n      <Paper className={classes.paper}>\r\n        <EnhancedTableToolbar numSelected={selected.length} selected={selected} setSelected={setSelected}/>\r\n        <TableContainer>\r\n          <Table\r\n            className={classes.table}\r\n            aria-labelledby=\"tableTitle\"\r\n            size={dense ? 'small' : 'medium'}\r\n            aria-label=\"enhanced table\"\r\n          >\r\n            <EnhancedTableHead\r\n              classes={classes}\r\n              numSelected={selected.length}\r\n              order={order}\r\n              orderBy={orderBy}\r\n              onSelectAllClick={handleSelectAllClick}\r\n              onRequestSort={handleRequestSort}\r\n              rowCount={products.length}\r\n            />\r\n            <TableBody>\r\n              {stableSort(products, getComparator(order, orderBy))\r\n                .slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\r\n                .map((row, key) => {\r\n                  const isItemSelected = isSelected(row.productName);\r\n                  const labelId = `enhanced-table-checkbox-${key}`;\r\n\r\n                  return (\r\n                    <TableRow\r\n                      hover\r\n                      onClick={(event) => handleClick(event, row.productName)}\r\n                      role=\"checkbox\"\r\n                      aria-checked={isItemSelected}\r\n                      tabIndex={-1}\r\n                      key={key}\r\n                      selected={isItemSelected}\r\n                    >\r\n                      <TableCell padding=\"checkbox\">\r\n                        <Checkbox\r\n                          checked={isItemSelected}\r\n                          inputProps={{ 'aria-labelledby': labelId }}\r\n                        />\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.productName}\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.bucketItems.toString().replace(/,/g, \"+\")}\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.sellingPrice}\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.created&&time(row.created.seconds, row.created.nanoseconds)}\r\n                        {!row.created && time(null)}\r\n                      </TableCell>\r\n                      <TableCell component=\"th\" id={labelId} scope=\"row\" padding=\"none\">\r\n                        {row.modified&&time(row.modified.seconds, row.modified.nanoseconds)}\r\n                        {!row.modified&&time(null)}\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  );\r\n                })}\r\n              {emptyRows > 0 && (\r\n                <TableRow style={{ height: (dense ? 33 : 53) * emptyRows }}>\r\n                  <TableCell colSpan={6} />\r\n                </TableRow>\r\n              )}\r\n            </TableBody>\r\n          </Table>\r\n        </TableContainer>\r\n        <TablePagination\r\n          rowsPerPageOptions={[5, 10, 25]}\r\n          component=\"div\"\r\n          count={products.length}\r\n          rowsPerPage={rowsPerPage}\r\n          page={page}\r\n          onPageChange={handleChangePage}\r\n          onRowsPerPageChange={handleChangeRowsPerPage}\r\n        />\r\n      </Paper>\r\n      <FormControlLabel\r\n        control={<Switch checked={dense} onChange={handleChangeDense} />}\r\n        label=\"Dense padding\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\n","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport DashboardIcon from '@material-ui/icons/Dashboard';\r\nimport ShoppingCartIcon from '@material-ui/icons/ShoppingCart';\r\nimport PeopleIcon from '@material-ui/icons/People';\r\nimport BarChartIcon from '@material-ui/icons/BarChart';\r\nimport LayersIcon from '@material-ui/icons/Layers';\r\nimport {useHistory, Link} from \"react-router-dom\";\r\n\r\nexport default function MainListItems () {\r\n  const history = useHistory()\r\n  return (\r\n    <div>\r\n      <ListItem onClick={(e)=> {history.push(\"/\")}} button>\r\n        <ListItemIcon>\r\n          <DashboardIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Dashboard\" style={{color:'inherit'}}/>\r\n      </ListItem>\r\n      <ListItem button>\r\n        <ListItemIcon>\r\n          <ShoppingCartIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Orders\" />\r\n      </ListItem>\r\n      <ListItem button>\r\n        <ListItemIcon>\r\n          <PeopleIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Customers\" />\r\n      </ListItem>\r\n      <ListItem button>\r\n        <ListItemIcon>\r\n          <BarChartIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Reports\" />\r\n      </ListItem>\r\n      <ListItem onClick={(e)=> {history.push(\"/products\")}} button>\r\n        <ListItemIcon>\r\n          <LayersIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Products\" />\r\n      </ListItem>\r\n      <ListItem onClick={(e)=> {history.push(\"/freshbasket\")}} button>\r\n        <ListItemIcon>\r\n          <LayersIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Fresh basket\" />\r\n      </ListItem>\r\n      <ListItem onClick={(e)=> {history.push(\"/offers\")}} button>\r\n        <ListItemIcon>\r\n          <LayersIcon />\r\n        </ListItemIcon>\r\n        <ListItemText primary=\"Offers\" />\r\n      </ListItem>\r\n  </div>\r\n  )\r\n}\r\n\r\n","import React from 'react';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListSubheader from '@material-ui/core/ListSubheader';\r\nimport AssignmentIcon from '@material-ui/icons/Assignment';\r\nimport {useHistory, Link} from \"react-router-dom\";\r\n\r\nexport default function SecondaryListItems() {\r\n    return(\r\n        <div>\r\n            <ListSubheader inset>Saved reports</ListSubheader>\r\n            <ListItem button>\r\n                <ListItemIcon>\r\n                <AssignmentIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Current month\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n                <ListItemIcon>\r\n                <AssignmentIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Last quarter\" />\r\n            </ListItem>\r\n            <ListItem button>\r\n                <ListItemIcon>\r\n                <AssignmentIcon />\r\n                </ListItemIcon>\r\n                <ListItemText primary=\"Year-end sale\" />\r\n            </ListItem>\r\n        </div>\r\n    )\r\n}","import React from 'react'\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Link from '@material-ui/core/Link';\r\n\r\nexport default function Copyright() {\r\n    return (\r\n      <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\r\n        {'Copyright  '}\r\n        <Link color=\"inherit\" href=\"https://material-ui.com/\">\r\n          Your Website\r\n        </Link>{' '}\r\n        {new Date().getFullYear()}\r\n        {'.'}\r\n      </Typography>\r\n    );\r\n  }","import React from 'react';\r\nimport clsx from 'clsx';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport Drawer from '@material-ui/core/Drawer';\r\nimport Box from '@material-ui/core/Box';\r\nimport AppBar from '@material-ui/core/AppBar';\r\nimport Toolbar from '@material-ui/core/Toolbar';\r\nimport List from '@material-ui/core/List';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Divider from '@material-ui/core/Divider';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport Badge from '@material-ui/core/Badge';\r\nimport Container from '@material-ui/core/Container';\r\n\r\nimport MenuIcon from '@material-ui/icons/Menu';\r\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\r\nimport NotificationsIcon from '@material-ui/icons/Notifications';\r\n\r\nimport AccountMenu from './AccountMenu'\r\nimport Main from './Main'\r\nimport Products from './Products'\r\nimport Offers from './Offers'\r\nimport FreshBasket from './FreshBasket'\r\nimport MainListItems from './MainListItems'\r\nimport SecondaryListItems from './SecondaryListItems'\r\nimport Copyright from './Copyright'\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: 'flex',\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n  },\r\n  toolbarIcon: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    padding: '0 8px',\r\n    ...theme.mixins.toolbar,\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create(['width', 'margin'], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  menuButton: {\r\n    marginRight: 36,\r\n  },\r\n  menuButtonHidden: {\r\n    display: 'none',\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n  },\r\n  drawerPaper: {\r\n    position: 'relative',\r\n    whiteSpace: 'nowrap',\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n  },\r\n  drawerPaperClose: {\r\n    overflowX: 'hidden',\r\n    transition: theme.transitions.create('width', {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: theme.spacing(7),\r\n    [theme.breakpoints.up('sm')]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n  appBarSpacer: theme.mixins.toolbar,\r\n  content: {\r\n    flexGrow: 1,\r\n    height: '100vh',\r\n    overflow: 'auto',\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nexport default function Dashboard(props) {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(true);\r\n  const handleDrawerOpen = () => {\r\n    setOpen(true);\r\n  };\r\n  const handleDrawerClose = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <CssBaseline />\r\n      <AppBar position=\"absolute\" className={clsx(classes.appBar, open && classes.appBarShift)}>\r\n        <Toolbar className={classes.toolbar}>\r\n          <IconButton\r\n            edge=\"start\"\r\n            color=\"inherit\"\r\n            aria-label=\"open drawer\"\r\n            onClick={handleDrawerOpen}\r\n            className={clsx(classes.menuButton, open && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton>\r\n          <Typography component=\"h1\" variant=\"h6\" color=\"inherit\" noWrap className={classes.title}>\r\n            Agro Fresh DL\r\n          </Typography>\r\n          <IconButton color=\"inherit\">\r\n            <Badge badgeContent={4} color=\"secondary\">\r\n              <NotificationsIcon />\r\n            </Badge>\r\n          </IconButton>\r\n          <AccountMenu />\r\n        </Toolbar>\r\n      </AppBar>\r\n      <Drawer\r\n        variant=\"permanent\"\r\n        classes={{\r\n          paper: clsx(classes.drawerPaper, !open && classes.drawerPaperClose),\r\n        }}\r\n        open={open}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <IconButton onClick={handleDrawerClose}>\r\n            <ChevronLeftIcon />\r\n          </IconButton>\r\n        </div>\r\n        <Divider />\r\n        <List>\r\n          <MainListItems />\r\n        </List>\r\n        <Divider />\r\n        <List>\r\n          <SecondaryListItems />\r\n        </List>\r\n      </Drawer>\r\n      <main className={classes.content}>\r\n        <div className={classes.appBarSpacer} />\r\n        <Container maxWidth=\"lg\" className={classes.container}>\r\n        {/* main content */}\r\n          {props.content === \"main\" && <Main />}\r\n        {/* products */}\r\n        { props.content === \"products\" && <Products />}\r\n        { props.content === \"freshbasket\" && <FreshBasket />}\r\n        {props.content === \"offers\" && <Offers />}\r\n          <Box pt={4}>\r\n            <Copyright />\r\n          </Box>\r\n        </Container>\r\n      </main>\r\n    </div>\r\n  );\r\n}","import React, {useEffect} from 'react';\r\nimport {\r\n    BrowserRouter as Router,\r\n    Switch,\r\n    Route,\r\n    Link\r\n} from \"react-router-dom\";\r\n\r\nimport {useDispatch, useSelector} from 'react-redux';\r\nimport {fetchUser, userSelector} from '../features/user'\r\n\r\nimport SignIn from './auth/SignIn'\r\nimport Dashboard from './dashboard/Dashboard'\r\n\r\nexport default function App () {\r\n\r\n    const dispatch = useDispatch();\r\n\r\n    const {user, signIn, userLoading } = useSelector(userSelector);\r\n\r\n    console.log(user, signIn, userLoading)\r\n\r\n    useEffect(() => {\r\n        dispatch(fetchUser())\r\n    }, [dispatch])\r\n\r\n    return (\r\n        <Router>\r\n            <Switch>\r\n                <Route path=\"/signin\" >\r\n                    <SignIn />\r\n                </Route>\r\n                <Route path=\"/offers\">\r\n                    <Dashboard content=\"offers\"/>\r\n                </Route>\r\n                <Route path=\"/products\" >\r\n                    <Dashboard content=\"products\"/>\r\n                </Route>\r\n                <Route path=\"/freshbasket\" >\r\n                    <Dashboard content=\"freshbasket\"/>\r\n                </Route>\r\n                <Route path=\"/\">\r\n                    <Dashboard content = \"main\"/>\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './style.css';\r\nimport { store } from './store'\r\nimport { Provider } from 'react-redux'\r\n\r\nimport App from './components/App';\r\n\r\nconst root = document.createElement('div');\r\nroot.setAttribute('id', 'root');\r\ndocument.body.appendChild(root);\r\n\r\nReactDOM.render(\r\n    <Provider store={store}>\r\n        <App />\r\n    </Provider>, root\r\n);"],"sourceRoot":""}