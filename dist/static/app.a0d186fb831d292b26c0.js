(self.webpackChunkagro_fresh_dl_admin=self.webpackChunkagro_fresh_dl_admin||[]).push([[143],{6466:(e,t,n)=>{"use strict";var r=n(7294),a=n(3935),l=n(3267),c=n(2137),o=n(7757),i=n.n(o),s=n(5503);n(7397),n(5878),n(1428),s.Z.apps.length||s.Z.initializeApp({apiKey:"AIzaSyCsbVcOkvH6UuZOxf9PwEKf_MG5V3GViQ4",authDomain:"agrofreshdl-23f35.firebaseapp.com",projectId:"agrofreshdl-23f35",storageBucket:"agrofreshdl-23f35.appspot.com",messagingSenderId:"1036768144779",appId:"1:1036768144779:web:245679f638c067dd5e938e",measurementId:"G-2QTFZGFK15"});const u=s.Z;var d=(0,l.oM)({name:"user",initialState:{user:null,signIn:!1,userLoading:!1},reducers:{userIsLoading:function(e){e.userLoading=!0},getUser:function(e,t){e.user=t.payload,e.signIn=!0,e.userLoading=!1},getUserFailure:function(e){e.userLoading=!1}}}),m=function(e){return e.user},f=d.actions,p=f.userIsLoading,g=f.getUser,E=f.getUserFailure;const h=d.reducer;var Z={products:[],productsLoading:!1},b=(0,l.oM)({name:"products",initialState:Z,reducers:{productsIsLoading:function(e){e.productsLoading=!0},getProducts:function(e,t){e.products.push(t.payload),e.productsLoading=!1},getProductsFailure:function(e){e.productsLoading=!1},deleting:function(e,t){var n=e.products.findIndex((function(e){return e.productName===t.payload}));e.products.splice(n,1)},add:function(e,t){e.products.unshift(t.payload)},clear:function(e){Object.assign(e,Z)}}}),v=function(e){return e.products},y=b.actions,k=y.productsIsLoading,S=y.getProducts,C=y.getProductsFailure,w=y.deleting,x=y.add,P=y.clear;const N=b.reducer;function L(e){return function(t){u.firestore().collection("products").where("productName","==",e).onSnapshot((function(e){e.docChanges().forEach((function(e){"added"===e.type&&(console.log(e.doc.data()),t(x(e.doc.data())))}))}))}}var R={offers:[],offersLoading:!1},I=(0,l.oM)({name:"offers",initialState:R,reducers:{loading:function(e){e.offersLoading=!0},getOffers:function(e,t){e.offers.push(t.payload),e.offersLoading=!1},failure:function(e){e.offersLoading=!1},deleting:function(e,t){var n=e.offers.findIndex((function(e){return e.offerCode===t.payload}));e.offers.splice(n,1)},add:function(e,t){e.offers.unshift(t.payload)},clear:function(e){Object.assign(e,R)}}}),O=function(e){return e.offers},B=I.actions,T=B.loading,D=B.getOffers,q=B.failure,F=B.deleting,A=B.add,M=B.clear;const W=I.reducer;var U={products:[],productsLoading:!1},j=(0,l.oM)({name:"freshBasket",initialState:U,reducers:{productsIsLoading:function(e){e.productsLoading=!0},getProducts:function(e,t){e.products.push(t.payload),e.productsLoading=!1},getProductsFailure:function(e){e.productsLoading=!1},deleting:function(e,t){var n=e.products.findIndex((function(e){return e.productName===t.payload}));e.products.splice(n,1)},add:function(e,t){e.products.unshift(t.payload)},clear:function(e){Object.assign(e,U)}}}),V=function(e){return e.freshBasket},H=j.actions,K=H.productsIsLoading,z=H.getProducts,G=H.getProductsFailure,Q=H.deleting,_=(H.add,H.clear);const Y=j.reducer;var $=(0,l.xC)({reducer:{user:h,products:N,offers:W,freshBasket:Y},middleware:function(e){return e({thunk:{},serializableCheck:!1})}}),J=n(9226),X=n(3727),ee=n(5977),te=n(4699),ne=n(3901),re=n(282),ae=n(5834),le=n(9803),ce=n(553),oe=n(3258),ie=n(9659),se=n(1749),ue=n(2014),de=n(2267),me=n(2318),fe=n(1120),pe=n(3832);function ge(){return r.createElement(me.Z,{variant:"body2",color:"textSecondary",align:"center"},"Copyright © ",r.createElement(ie.Z,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}var Ee=(0,fe.Z)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function he(){var e=Ee(),t=(0,r.useState)(""),n=(0,te.Z)(t,2),a=n[0],l=n[1],c=(0,r.useState)(""),o=(0,te.Z)(c,2),i=o[0],s=o[1],d=(0,ee.k6)();return r.createElement(pe.Z,{component:"main",maxWidth:"xs"},r.createElement(ae.ZP,null),r.createElement("div",{className:e.paper},r.createElement(ne.Z,{className:e.avatar},r.createElement(de.Z,null)),r.createElement(me.Z,{component:"h1",variant:"h5"},"Sign in"),r.createElement("form",{className:e.form,noValidate:!0},r.createElement(le.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0,onChange:function(e){return l(e.target.value)},value:a}),r.createElement(le.Z,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return s(e.target.value)},value:i}),r.createElement(ce.Z,{control:r.createElement(oe.Z,{value:"remember",color:"primary"}),label:"Remember me"}),r.createElement(re.Z,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:e.submit,onClick:function(e){e.preventDefault(),u.auth().signInWithEmailAndPassword(a,i).then((function(){console.log("signin successfull"),d.push("/")})).catch((function(e){return console.log(e)}))}},"Sign In"),r.createElement(se.Z,{container:!0},r.createElement(se.Z,{item:!0,xs:!0},r.createElement(ie.Z,{href:"#",variant:"body2"},"Forgot password?")),r.createElement(se.Z,{item:!0},r.createElement(ie.Z,{href:"#",variant:"body2"},"Don't have an account? Sign Up"))))),r.createElement(ue.Z,{mt:8},r.createElement(ge,null)))}var Ze=n(6156),be=n(6010),ve=n(7159),ye=n(5258),ke=n(8358),Se=n(2822),Ce=n(5517),we=n(7812),xe=n(7873),Pe=n(8884),Ne=n(9875),Le=n(8825),Re=n(2122),Ie=n(2795),Oe=n(170),Be=n(9895),Te=n(6617),De=n(5639),qe=n(9829),Fe=n(2067),Ae=(0,fe.Z)((function(e){return{root:{display:"flex"},paper:{marginRight:e.spacing(2)}}}));function Me(){Ae();var e=r.useState(!1),t=(0,te.Z)(e,2),n=t[0],a=t[1],l=r.useRef(null),c=(0,ee.k6)(),o=function(e){l.current&&l.current.contains(e.target)||a(!1)},i=function(e){u.auth().signOut().then((function(){return c.push("/signin")})).catch((function(e){return console.log(e)}))};function s(e){"Tab"===e.key&&(e.preventDefault(),a(!1))}var d=r.useRef(n);return r.useEffect((function(){!0===d.current&&!1===n&&l.current.focus(),d.current=n}),[n]),r.createElement(r.Fragment,null,r.createElement(we.Z,{ref:l,"aria-controls":n?"menu-list-grow":void 0,"aria-haspopup":"true",onClick:function(){a((function(e){return!e}))}},r.createElement(Fe.Z,{style:{color:"white"}})),r.createElement(Te.Z,{open:n,anchorEl:l.current,role:void 0,transition:!0,disablePortal:!0},(function(e){var t=e.TransitionProps,a=e.placement;return r.createElement(Oe.Z,(0,Re.Z)({},t,{style:{transformOrigin:"bottom"===a?"center top":"center bottom"}}),r.createElement(Be.Z,null,r.createElement(Ie.Z,{onClickAway:o},r.createElement(qe.Z,{autoFocusItem:n,id:"menu-list-grow",onKeyDown:s},r.createElement(De.Z,{onClick:o},"Profile"),r.createElement(De.Z,{onClick:o},"My account"),r.createElement(De.Z,{onClick:i},"Logout")))))})))}var We=n(1041),Ue=n(9009),je=n(7829),Ve=n(3023),He=n(5358),Ke=n(5048),ze=n(1004),Ge=n(5697),Qe=n.n(Ge);function _e(e){return r.createElement(me.Z,{component:"h2",variant:"h6",color:"primary",gutterBottom:!0},e.children)}function Ye(e,t){return{time:e,amount:t}}_e.propTypes={children:Qe().node};var $e=[Ye("00:00",0),Ye("03:00",300),Ye("06:00",600),Ye("09:00",800),Ye("12:00",1500),Ye("15:00",2e3),Ye("18:00",2400),Ye("21:00",2400),Ye("24:00",void 0)];function Je(){var e=(0,We.Z)();return r.createElement(r.Fragment,null,r.createElement(_e,null,"Today"),r.createElement(Ue.h,null,r.createElement(je.w,{data:$e,margin:{top:16,right:16,bottom:0,left:24}},r.createElement(Ve.K,{dataKey:"time",stroke:e.palette.text.secondary}),r.createElement(He.B,{stroke:e.palette.text.secondary},r.createElement(Ke._,{angle:270,position:"left",style:{textAnchor:"middle",fill:e.palette.text.primary}},"Sales ($)")),r.createElement(ze.x,{type:"monotone",dataKey:"amount",stroke:e.palette.primary.main,dot:!1}))))}function Xe(e){e.preventDefault()}var et=(0,fe.Z)({depositContext:{flex:1}});function tt(){var e=et();return r.createElement(r.Fragment,null,r.createElement(_e,null,"Recent Deposits"),r.createElement(me.Z,{component:"p",variant:"h4"},"$3,024.00"),r.createElement(me.Z,{color:"textSecondary",className:e.depositContext},"on 15 March, 2019"),r.createElement("div",null,r.createElement(ie.Z,{color:"primary",href:"#",onClick:Xe},"View balance")))}var nt=n(2302),rt=n(9613),at=n(8222),lt=n(3750),ct=n(7394);function ot(e,t,n,r,a,l){return{id:e,date:t,name:n,shipTo:r,paymentMethod:a,amount:l}}var it=[ot(0,"16 Mar, 2019","Elvis Presley","Tupelo, MS","VISA ⠀•••• 3719",312.44),ot(1,"16 Mar, 2019","Paul McCartney","London, UK","VISA ⠀•••• 2574",866.99),ot(2,"16 Mar, 2019","Tom Scholz","Boston, MA","MC ⠀•••• 1253",100.81),ot(3,"16 Mar, 2019","Michael Jackson","Gary, IN","AMEX ⠀•••• 2000",654.39),ot(4,"15 Mar, 2019","Bruce Springsteen","Long Branch, NJ","VISA ⠀•••• 5919",212.79)];function st(e){e.preventDefault()}var ut=(0,fe.Z)((function(e){return{seeMore:{marginTop:e.spacing(3)}}}));function dt(){var e=ut();return r.createElement(r.Fragment,null,r.createElement(_e,null,"Recent Orders"),r.createElement(nt.Z,{size:"small"},r.createElement(lt.Z,null,r.createElement(ct.Z,null,r.createElement(at.Z,null,"Date"),r.createElement(at.Z,null,"Name"),r.createElement(at.Z,null,"Ship To"),r.createElement(at.Z,null,"Payment Method"),r.createElement(at.Z,{align:"right"},"Sale Amount"))),r.createElement(rt.Z,null,it.map((function(e){return r.createElement(ct.Z,{key:e.id},r.createElement(at.Z,null,e.date),r.createElement(at.Z,null,e.name),r.createElement(at.Z,null,e.shipTo),r.createElement(at.Z,null,e.paymentMethod),r.createElement(at.Z,{align:"right"},e.amount))})))),r.createElement("div",{className:e.seeMore},r.createElement(ie.Z,{color:"primary",href:"#",onClick:st},"See more orders")))}var mt=(0,fe.Z)((function(e){return{paper:{padding:e.spacing(2),display:"flex",overflow:"auto",flexDirection:"column"},fixedHeight:{height:240}}}));function ft(){var e=mt(),t=(0,be.default)(e.paper,e.fixedHeight);return r.createElement(r.Fragment,null,r.createElement(se.Z,{container:!0,spacing:3},r.createElement(se.Z,{item:!0,xs:12,md:8,lg:9},r.createElement(Be.Z,{className:t},r.createElement(Je,null))),r.createElement(se.Z,{item:!0,xs:12,md:4,lg:3},r.createElement(Be.Z,{className:t},r.createElement(tt,null))),r.createElement(se.Z,{item:!0,xs:12},r.createElement(Be.Z,{className:e.paper},r.createElement(dt,null)))))}var pt=n(9693),gt=n(6847),Et=n(234),ht=n(7256),Zt=n(868),bt=n(9570),vt=n(8428),yt=n(5963),kt=n(1182),St=n(6562),Ct=n(2459),wt=n(1492);function xt(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var Pt=(0,fe.Z)((function(e){return{input:{display:"none"},paper:{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Nt(){var e=Pt(),t=r.useState(xt),n=(0,te.Z)(t,1)[0],a=r.useState(!1),l=(0,te.Z)(a,2),c=l[0],o=l[1],i=(0,r.useState)(""),s=(0,te.Z)(i,2),d=s[0],m=s[1],f=(0,r.useState)(""),p=(0,te.Z)(f,2),g=p[0],E=p[1],h=(0,r.useState)(""),Z=(0,te.Z)(h,2),b=Z[0],v=Z[1],y=(0,r.useState)(""),k=(0,te.Z)(y,2),S=k[0],C=k[1],w=(0,r.useState)(""),x=(0,te.Z)(w,2),P=x[0],N=x[1],R=(0,r.useState)(!1),I=(0,te.Z)(R,2),O=I[0],B=I[1],T=(0,r.useState)(!1),D=(0,te.Z)(T,2),q=D[0],F=D[1],A=(0,r.useState)(!1),M=(0,te.Z)(A,2),W=M[0],U=M[1],j=(0,r.useState)(!1),V=(0,te.Z)(j,2),H=V[0],K=V[1],z=(0,r.useState)(!1),G=(0,te.Z)(z,2),Q=G[0],_=G[1],Y=(0,r.useState)(null),$=(0,te.Z)(Y,2),X=$[0],ee=$[1],ne=(0,r.useState)(""),ae=(0,te.Z)(ne,2),ie=ae[0],ue=ae[1],de=(0,r.useState)(!1),me=(0,te.Z)(de,2),fe=me[0],pe=me[1],ge=(0,r.useState)(null),Ee=(0,te.Z)(ge,2),he=Ee[0],Ze=Ee[1],be=(0,r.useState)([]),ve=(0,te.Z)(be,2),ye=ve[0],ke=ve[1],Se=(0,r.useState)(""),Ce=(0,te.Z)(Se,2),we=Ce[0],xe=Ce[1],Pe=(0,J.I0)(),Ne=function(){o(!1)},Le=r.createElement("div",{style:n,className:e.paper},r.createElement("form",null,r.createElement(se.Z,{container:!0,spacing:2},r.createElement(se.Z,{container:!0,item:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:4},r.createElement(le.Z,{id:"filled-basic",label:"Product Name",variant:"outlined",fullWidth:!0,value:d,onChange:function(e){return m(e.target.value)}})),r.createElement(se.Z,{item:!0,xs:4},r.createElement(le.Z,{id:"filled-basic",label:"Quantity",variant:"outlined",value:g,onChange:function(e){return E(e.target.value)},fullWidth:!0})),r.createElement(se.Z,{item:!0,xs:4},r.createElement(le.Z,{id:"filled-basic",label:"Selling Price",variant:"outlined",value:b,onChange:function(e){return v(e.target.value)},fullWidth:!0}))),r.createElement(se.Z,{item:!0,container:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:3},r.createElement(le.Z,{id:"filled-basic",label:"Discount Price",variant:"outlined",value:S,onChange:function(e){return C(e.target.value)},fullWidth:!0})),r.createElement(se.Z,{item:!0,xs:3},r.createElement(le.Z,{id:"filled-basic",label:"Min Order Qty",variant:"outlined",value:we,onChange:function(e){return xe(e.target.value)},fullWidth:!0})),r.createElement(se.Z,{item:!0,xs:6},r.createElement(le.Z,{id:"filled-basic",label:"Description",variant:"outlined",value:P,onChange:function(e){return N(e.target.value)},fullWidth:!0}))),r.createElement(se.Z,{item:!0,xs:12},r.createElement(wt.ZP,{defaultValue:[],onChange:function(e){return t=e,console.log(t),void ke(t);var t},fullWidth:!0,placeholder:"Enter packages"})),r.createElement(se.Z,{item:!0},r.createElement(St.Z,{"aria-label":"position",row:!0},r.createElement(ce.Z,{value:"start",control:r.createElement(oe.Z,{color:"primary"}),label:"Regular",labelPlacement:"start",checked:O,onChange:function(e){B(e.target.checked),F(!1)}}),r.createElement(ce.Z,{value:"start",control:r.createElement(oe.Z,{color:"primary"}),label:"Bulk",labelPlacement:"start",checked:q,onChange:function(e){F(e.target.checked),B(!1)}}),r.createElement(ce.Z,{value:"start",control:r.createElement(oe.Z,{color:"primary"}),label:"Vegetable",labelPlacement:"start",checked:W,onChange:function(e){U(e.target.checked),K(!1),_(!1)}}),r.createElement(ce.Z,{value:"start",control:r.createElement(oe.Z,{color:"primary"}),label:"Fruit",labelPlacement:"start",checked:H,onChange:function(e){U(!1),K(e.target.checked),_(!1)}}),r.createElement(ce.Z,{value:"start",control:r.createElement(oe.Z,{color:"primary"}),label:"Exotic",labelPlacement:"start",checked:Q,onChange:function(e){U(!1),K(!1),_(e.target.checked)}}))),r.createElement(se.Z,{item:!0,container:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:2},r.createElement("input",{accept:"image/*",className:e.input,id:"contained-button-file",multiple:!0,type:"file",onChange:function(e){ee(e.target.files[0]),console.log(X)}}),r.createElement("label",{htmlFor:"contained-button-file"},r.createElement(re.Z,{variant:"contained",color:"default",component:"span"},"Browse"))),r.createElement(se.Z,{item:!0,xs:1},r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(e){if(!(d||g||b||S||P||Q&&W&&H))return console.log("cannot left blank");var t=u.storage().ref().child("products/"+X.name).put(X,{contentType:"image"});t.on(u.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),pe(!0),Ze(t),e.state){case u.storage.TaskState.PAUSED:console.log("Upload is paused");break;case u.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){e.code}),(function(){pe(!1),t.snapshot.ref.getDownloadURL().then((function(e){console.log("File available at",e),ue(e)}))}))}},r.createElement(Ct.Z,null))),r.createElement(se.Z,{item:!0},r.createElement("div",{style:{marginLeft:18,marginTop:6}},X&&X.name)),r.createElement(se.Z,{item:!0},r.createElement("div",{style:{marginLeft:18,marginTop:6}},fe&&"uploading...")),r.createElement(se.Z,{item:!0},r.createElement("div",{style:{marginLeft:18,marginTop:6}},he&&"".concat(he," %"))),r.createElement(se.Z,{container:!0,item:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:4}),r.createElement(se.Z,{item:!0,xs:2},r.createElement(re.Z,{variant:"contained",color:"secondary",onClick:Ne},"Cancel")),r.createElement(se.Z,{item:!0,xs:2},r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(e){if(""!==ie&&null!=ie){if(!(d||g||b||S||P||Q&&W&&H))return console.log("cannot left blank");Ne();var t={productName:d,quantity:g,sellingPrice:b,discountPrice:S,description:P,regular:O,bulk:q,vegetable:W,fruit:H,exotic:Q,packageOf:ye,minOrderQty:we,imageURL:ie,created:u.firestore.FieldValue.serverTimestamp(),modified:u.firestore.FieldValue.serverTimestamp()};u.firestore().collection("products").doc().set(t).then(Pe(L(d)))}else console.log("imageURL not set")}},"Save")),r.createElement(se.Z,{item:!0,xs:4}))))));return r.createElement("div",null,r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(){o(!0),m(""),E(""),v(""),C(""),N(""),B(!1),F(!1),U(!1),K(!1),_(!1),ee(null),ue(""),xe(""),Ze(null)},style:{marginBottom:20}},"New"),r.createElement(kt.Z,{open:c,onClose:Ne,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},Le))}function Lt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Rt=[{id:"productName",numeric:!1,disablePadding:!0,label:"Product Name"},{id:"imageURL",numeric:!1,disablePadding:!1,label:"Image"},{id:"description",numeric:!1,disablePadding:!1,label:"Description"},{id:"quantity",numeric:!0,disablePadding:!1,label:"Quantity (in Kg)"},{id:"category",numeric:!1,disablePadding:!1,label:"Category"},{id:"orderType",numeric:!1,disablePadding:!1,label:"Order Type"},{id:"sellingPrice",numeric:!0,disablePadding:!1,label:"Selling Price (in ₹/kg)"},{id:"discountPrice",numeric:!0,disablePadding:!1,label:"Discount Price (in ₹/kg)"},{id:"packageOf",numeric:!0,disablePadding:!1,label:"Packages (in Kg)"},{id:"minOrderQty",numeric:!0,disablePadding:!1,label:"Min Order Qty (in Kg)"},{id:"created",numeric:!1,disablePadding:!1,label:"Created"},{id:"modified",numeric:!1,disablePadding:!1,label:"Modified"}];function It(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,l=e.orderBy,c=e.numSelected,o=e.rowCount,i=e.onRequestSort;return r.createElement(lt.Z,null,r.createElement(ct.Z,null,r.createElement(at.Z,{padding:"checkbox"},r.createElement(oe.Z,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:n,inputProps:{"aria-label":"select all products"}})),Rt.map((function(e){return r.createElement(at.Z,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:l===e.id&&a},r.createElement(ht.Z,{active:l===e.id,direction:l===e.id?a:"asc",onClick:(n=e.id,function(e){i(e,n)})},e.label,l===e.id?r.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var n}))))}It.propTypes={classes:Qe().object.isRequired,numSelected:Qe().number.isRequired,onRequestSort:Qe().func.isRequired,onSelectAllClick:Qe().func.isRequired,order:Qe().oneOf(["asc","desc"]).isRequired,orderBy:Qe().string.isRequired,rowCount:Qe().number.isRequired};var Ot=(0,fe.Z)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,pt.$n)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Bt=function(){var e=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.firestore().collection("products"),e.next=3,n.where("productName","==",t).get();case 3:if(!(r=e.sent).empty){e.next=7;break}return console.log("no match"),e.abrupt("return");case 7:r.forEach((function(e){console.log(e.data().imageURL);try{var t=u.storage().refFromURL(e.data().imageURL);null!==t&&t.delete().then((function(){console.log("successfully deleted")})).catch((function(e){console.log(e)}))}catch(e){console.log("storage ref err =>",e)}n.doc(e.id).delete().then((function(){return console.log("deleted")})).catch((function(e){return console.log(e)}))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Tt=function(e){var t=Ot(),n=e.numSelected,a=e.selected,l=e.setSelected,c=(0,J.I0)(),o=(0,J.v9)(v),i=o.products;return o.productsLoading,console.log("num selected =>",n),r.createElement(ke.Z,{className:(0,be.default)(t.root,(0,Ze.Z)({},t.highlight,n>0))},n>0?r.createElement(me.Z,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},n," selected"):r.createElement(me.Z,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Product List"),n>0?r.createElement(Zt.ZP,{title:"Delete"},r.createElement(we.Z,{"aria-label":"delete",onClick:function(){a.forEach((function(e){console.log(e),Bt(e);var t=i.findIndex((function(t){return t.productName==e}));console.log("index of...=>",t),c(function(e){return function(t){t(w(e))}}(e))})),l([])}},r.createElement(vt.Z,null))):r.createElement(Zt.ZP,{title:"Filter list"},r.createElement(we.Z,{"aria-label":"filter list"},r.createElement(yt.Z,null))))};Tt.propTypes={numSelected:Qe().number.isRequired};var Dt=(0,fe.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function qt(){var e=Dt(),t=r.useState("asc"),n=(0,te.Z)(t,2),a=n[0],l=n[1],o=r.useState("calories"),s=(0,te.Z)(o,2),d=s[0],m=s[1],f=r.useState([]),p=(0,te.Z)(f,2),g=p[0],E=p[1],h=r.useState(0),Z=(0,te.Z)(h,2),b=Z[0],y=Z[1],w=r.useState(!1),x=(0,te.Z)(w,2),N=x[0],L=x[1],R=r.useState(5),I=(0,te.Z)(R,2),O=I[0],B=I[1],T=(0,J.I0)(),D=(0,J.v9)(v),q=D.products,F=D.productsLoading;console.log(q,F),console.log("products from products =>",q),(0,r.useEffect)((function(){T((function(e){e(P())})),T(function(){var e=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(k),n=u.firestore().collection("products").orderBy("modified","desc"),e.next=4,n.get();case 4:(r=e.sent).empty?t(C()):r.forEach((function(e){t(S(e.data()))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[T]);var A=O-Math.min(O,q.length-b*O);console.log(g);var M,W,U,j=function(e,t){if(null===e){var n=new Date;return"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString())}var r=new Date(1e3*(e+1e-8*t));return"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())};return r.createElement("div",{className:e.root},r.createElement(Nt,null),r.createElement(Be.Z,{className:e.paper},r.createElement(Tt,{numSelected:g.length,selected:g,setSelected:E}),r.createElement(gt.Z,null,r.createElement(nt.Z,{className:e.table,"aria-labelledby":"tableTitle",size:N?"small":"medium","aria-label":"enhanced table"},r.createElement(It,{classes:e,numSelected:g.length,order:a,orderBy:d,onSelectAllClick:function(e){if(e.target.checked){var t=q.map((function(e){return e.productName}));E(t)}else E([])},onRequestSort:function(e,t){l(d===t&&"asc"===a?"desc":"asc"),m(t)},rowCount:q.length}),r.createElement(rt.Z,null,(M=q,W=function(e,t){return"desc"===e?function(e,n){return Lt(e,n,t)}:function(e,n){return-Lt(e,n,t)}}(a,d),U=M.map((function(e,t){return[e,t]})),U.sort((function(e,t){var n=W(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),U.map((function(e){return e[0]}))).slice(b*O,b*O+O).map((function(e,t){var n,a=(n=e.productName,-1!==g.indexOf(n)),l="enhanced-table-checkbox-".concat(t);return r.createElement(ct.Z,{hover:!0,onClick:function(t){return function(e,t){var n=g.indexOf(t),r=[];-1===n?r=r.concat(g,t):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),E(r)}(0,e.productName)},role:"checkbox","aria-checked":a,tabIndex:-1,key:t,selected:a},r.createElement(at.Z,{padding:"checkbox"},r.createElement(oe.Z,{checked:a,inputProps:{"aria-labelledby":l}})),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.productName),r.createElement(at.Z,{align:"right"},r.createElement("img",{src:e.imageURL,style:{width:60}})),r.createElement(at.Z,{align:"right"},e.description),r.createElement(at.Z,{align:"right"},e.quantity>0?e.quantity:r.createElement("div",{style:{color:"red"}},"Out of stock")),r.createElement(at.Z,{align:"right"},e.fruit&&"Fruit",e.vegetable&&"Vegetable",e.exotic&&"Exotic"),r.createElement(at.Z,{align:"right"},e.bulk&&"Bulk",e.regular&&"Regular"),r.createElement(at.Z,{align:"right"},e.sellingPrice),r.createElement(at.Z,{align:"right"},e.discountPrice),r.createElement(at.Z,{align:"right"},String(e.packageOf)),r.createElement(at.Z,{align:"right"},e.minOrderQty),r.createElement(at.Z,{align:"right"},e.created&&j(e.created.seconds,e.created.nanoseconds),!e.created&&j(null)),r.createElement(at.Z,{align:"right"},e.modified&&j(e.modified.seconds,e.modified.nanoseconds),!e.modified&&j(null)))})),A>0&&r.createElement(ct.Z,{style:{height:(N?33:53)*A}},r.createElement(at.Z,{colSpan:6}))))),r.createElement(Et.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:q.length,rowsPerPage:O,page:b,onPageChange:function(e,t){y(t)},onRowsPerPageChange:function(e){B(parseInt(e.target.value,10)),y(0)}})),r.createElement(ce.Z,{control:r.createElement(bt.Z,{checked:N,onChange:function(e){L(e.target.checked)}}),label:"Dense padding"}))}function Ft(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var At=(0,fe.Z)((function(e){return{input:{display:"none"},paper:{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Mt(){var e=At(),t=r.useState(Ft),n=(0,te.Z)(t,1)[0],a=r.useState(!1),l=(0,te.Z)(a,2),c=l[0],o=l[1],i=(0,r.useState)(""),s=(0,te.Z)(i,2),d=s[0],m=s[1],f=(0,r.useState)(""),p=(0,te.Z)(f,2),g=p[0],E=p[1],h=(0,J.I0)(),Z=function(){o(!1)},b=r.createElement("div",{style:n,className:e.paper},r.createElement("form",null,r.createElement(se.Z,{container:!0,spacing:2},r.createElement(se.Z,{container:!0,item:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:8},r.createElement(le.Z,{id:"filled-basic",label:"Offer Code",variant:"outlined",fullWidth:!0,value:d,onChange:function(e){return m(e.target.value)}})),r.createElement(se.Z,{item:!0,xs:4},r.createElement(le.Z,{id:"filled-basic",label:"Discount %",variant:"outlined",value:g,onChange:function(e){return E(e.target.value)}}))),r.createElement(se.Z,{item:!0,container:!0,spacing:2},r.createElement(se.Z,{container:!0,item:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:4}),r.createElement(se.Z,{item:!0,xs:2},r.createElement(re.Z,{variant:"contained",color:"secondary",onClick:Z},"Cancel")),r.createElement(se.Z,{item:!0,xs:2},r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(e){Z();var t,n={offerCode:d,discount:g,created:u.firestore.FieldValue.serverTimestamp(),modified:u.firestore.FieldValue.serverTimestamp()};u.firestore().collection("offers").doc().set(n).then(h((t=d,function(e){u.firestore().collection("offers").where("offerCode","==",t).onSnapshot((function(t){t.docChanges().forEach((function(t){"added"===t.type&&(console.log(t.doc.data()),e(A(t.doc.data())))}))}))})))}},"Save")),r.createElement(se.Z,{item:!0,xs:4}))))));return r.createElement("div",null,r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(){o(!0),m(""),E("")},style:{marginBottom:20}},"New"),r.createElement(kt.Z,{open:c,onClose:Z,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},b))}function Wt(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Ut=[{id:"offerCode",numeric:!1,disablePadding:!0,label:"Offer Code"},{id:"discount",numeric:!0,disablePadding:!0,label:"Discount (in %)"}];function jt(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,l=e.orderBy,c=e.numSelected,o=e.rowCount,i=e.onRequestSort;return r.createElement(lt.Z,null,r.createElement(ct.Z,null,r.createElement(at.Z,{padding:"checkbox"},r.createElement(oe.Z,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:n,inputProps:{"aria-label":"select all offers"}})),Ut.map((function(e){return r.createElement(at.Z,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:l===e.id&&a},r.createElement(ht.Z,{active:l===e.id,direction:l===e.id?a:"asc",onClick:(n=e.id,function(e){i(e,n)})},e.label,l===e.id?r.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var n}))))}jt.propTypes={classes:Qe().object.isRequired,numSelected:Qe().number.isRequired,onRequestSort:Qe().func.isRequired,onSelectAllClick:Qe().func.isRequired,order:Qe().oneOf(["asc","desc"]).isRequired,orderBy:Qe().string.isRequired,rowCount:Qe().number.isRequired};var Vt=(0,fe.Z)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,pt.$n)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),Ht=function(){var e=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.firestore().collection("offers"),e.next=3,n.where("offerCode","==",t).get();case 3:if(!(r=e.sent).empty){e.next=7;break}return console.log("no match"),e.abrupt("return");case 7:r.forEach((function(e){n.doc(e.id).delete().then((function(){return console.log("deleted")})).catch((function(e){return console.log(e)}))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Kt=function(e){var t=Vt(),n=e.numSelected,a=e.selected,l=e.setSelected,c=(0,J.I0)(),o=(0,J.v9)(O),i=o.offers;return o.offersLoading,console.log("num selected =>",n),r.createElement(ke.Z,{className:(0,be.default)(t.root,(0,Ze.Z)({},t.highlight,n>0))},n>0?r.createElement(me.Z,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},n," selected"):r.createElement(me.Z,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Product List"),n>0?r.createElement(Zt.ZP,{title:"Delete"},r.createElement(we.Z,{"aria-label":"delete",onClick:function(){a.forEach((function(e){console.log(e),Ht(e);var t=i.findIndex((function(t){return t.offerCode==e}));console.log("index of...=>",t),c(function(e){return function(t){t(F(e))}}(e))})),l([])}},r.createElement(vt.Z,null))):r.createElement(Zt.ZP,{title:"Filter list"},r.createElement(we.Z,{"aria-label":"filter list"},r.createElement(yt.Z,null))))};Kt.propTypes={numSelected:Qe().number.isRequired};var zt=(0,fe.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function Gt(){var e=zt(),t=r.useState("asc"),n=(0,te.Z)(t,2),a=n[0],l=n[1],o=r.useState("calories"),s=(0,te.Z)(o,2),d=s[0],m=s[1],f=r.useState([]),p=(0,te.Z)(f,2),g=p[0],E=p[1],h=r.useState(0),Z=(0,te.Z)(h,2),b=Z[0],v=Z[1],y=r.useState(!1),k=(0,te.Z)(y,2),S=k[0],C=k[1],w=r.useState(5),x=(0,te.Z)(w,2),P=x[0],N=x[1],L=(0,J.I0)(),R=(0,J.v9)(O),I=R.offers,B=R.offersLoading;console.log(I,B),console.log("Offers from offers =>",I),(0,r.useEffect)((function(){L((function(e){e(M())})),L(function(){var e=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(T),n=u.firestore().collection("offers").orderBy("modified","desc"),e.next=4,n.get();case 4:(r=e.sent).empty?t(q()):r.forEach((function(e){t(D(e.data()))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[L]);var F,A,W,U=P-Math.min(P,I.length-b*P);return console.log(g),r.createElement("div",{className:e.root},r.createElement(Mt,null),r.createElement(Be.Z,{className:e.paper},r.createElement(Kt,{numSelected:g.length,selected:g,setSelected:E}),r.createElement(gt.Z,null,r.createElement(nt.Z,{className:e.table,"aria-labelledby":"tableTitle",size:S?"small":"medium","aria-label":"enhanced table"},r.createElement(jt,{classes:e,numSelected:g.length,order:a,orderBy:d,onSelectAllClick:function(e){if(e.target.checked){var t=I.map((function(e){return e.offerCode}));E(t)}else E([])},onRequestSort:function(e,t){l(d===t&&"asc"===a?"desc":"asc"),m(t)},rowCount:I.length}),r.createElement(rt.Z,null,(F=I,A=function(e,t){return"desc"===e?function(e,n){return Wt(e,n,t)}:function(e,n){return-Wt(e,n,t)}}(a,d),W=F.map((function(e,t){return[e,t]})),W.sort((function(e,t){var n=A(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),W.map((function(e){return e[0]}))).slice(b*P,b*P+P).map((function(e,t){var n,a=(n=e.offerCode,-1!==g.indexOf(n)),l="enhanced-table-checkbox-".concat(t);return r.createElement(ct.Z,{hover:!0,onClick:function(t){return function(e,t){var n=g.indexOf(t),r=[];-1===n?r=r.concat(g,t):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),E(r)}(0,e.offerCode)},role:"checkbox","aria-checked":a,tabIndex:-1,key:t,selected:a},r.createElement(at.Z,{padding:"checkbox"},r.createElement(oe.Z,{checked:a,inputProps:{"aria-labelledby":l}})),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.offerCode),r.createElement(at.Z,{align:"right"},e.discount))})),U>0&&r.createElement(ct.Z,{style:{height:(S?33:53)*U}},r.createElement(at.Z,{colSpan:6}))))),r.createElement(Et.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:I.length,rowsPerPage:P,page:b,onPageChange:function(e,t){v(t)},onRowsPerPageChange:function(e){N(parseInt(e.target.value,10)),v(0)}})),r.createElement(ce.Z,{control:r.createElement(bt.Z,{checked:S,onChange:function(e){C(e.target.checked)}}),label:"Dense padding"}))}function Qt(){return{top:"".concat(50,"%"),left:"".concat(50,"%"),transform:"translate(-".concat(50,"%, -").concat(50,"%)")}}var _t=(0,fe.Z)((function(e){return{input:{display:"none"},paper:{position:"absolute",width:800,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function Yt(){var e=_t(),t=r.useState(Qt),n=(0,te.Z)(t,1)[0],a=r.useState(!1),l=(0,te.Z)(a,2),c=l[0],o=l[1],i=(0,r.useState)(""),s=(0,te.Z)(i,2),d=s[0],m=s[1],f=(0,r.useState)(""),p=(0,te.Z)(f,2),g=p[0],E=p[1],h=(0,r.useState)([]),Z=(0,te.Z)(h,2),b=Z[0],v=Z[1],y=(0,J.I0)(),k=function(){o(!1)},S=r.createElement("div",{style:n,className:e.paper},r.createElement("form",null,r.createElement(se.Z,{container:!0,spacing:2},r.createElement(se.Z,{container:!0,item:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:4},r.createElement(le.Z,{id:"filled-basic",label:"Fresh Basket",variant:"outlined",fullWidth:!0,value:d,onChange:function(e){return m(e.target.value)}})),r.createElement(se.Z,{item:!0,xs:4},r.createElement(le.Z,{id:"filled-basic",label:"Bucket Price (₹)",variant:"outlined",fullWidth:!0,value:g,onChange:function(e){return E(e.target.value)}}))),r.createElement(se.Z,{item:!0,xs:12},r.createElement(wt.ZP,{defaultValue:[],onChange:function(e){return t=e,console.log(t),void v(t);var t},fullWidth:!0,placeholder:"Add Bucket Items"})),r.createElement(se.Z,{item:!0}),r.createElement(se.Z,{item:!0,container:!0,spacing:2},r.createElement(se.Z,{container:!0,item:!0,spacing:2},r.createElement(se.Z,{item:!0,xs:4}),r.createElement(se.Z,{item:!0,xs:2},r.createElement(re.Z,{variant:"contained",color:"secondary",onClick:k},"Cancel")),r.createElement(se.Z,{item:!0,xs:2},r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(e){if(!d&&!g)return console.log("cannot left blank");k();var t={productName:d,sellingPrice:g,bucketItems:b,productCategory:"freshBasket",created:u.firestore.FieldValue.serverTimestamp(),modified:u.firestore.FieldValue.serverTimestamp()};u.firestore().collection("freshBasket").doc().set(t).then(y(L(d)))}},"Save")),r.createElement(se.Z,{item:!0,xs:4}))))));return r.createElement("div",null,r.createElement(re.Z,{variant:"contained",color:"primary",onClick:function(){o(!0),m("Fresh Basket"),v([])},style:{marginBottom:20}},"New"),r.createElement(kt.Z,{open:c,onClose:k,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},S))}function $t(e,t,n){return t[n]<e[n]?-1:t[n]>e[n]?1:0}var Jt=[{id:"productName",numeric:!1,disablePadding:!0,label:"Product Name"},{id:"bucketItems",numeric:!0,disablePadding:!0,label:"Bucket Items"},{id:"bucketPrice",numeric:!0,disablePadding:!0,label:"Bucket Price (₹)"},{id:"created",numeric:!1,disablePadding:!0,label:"Created"},{id:"modified",numeric:!1,disablePadding:!0,label:"Modified"}];function Xt(e){var t=e.classes,n=e.onSelectAllClick,a=e.order,l=e.orderBy,c=e.numSelected,o=e.rowCount,i=e.onRequestSort;return r.createElement(lt.Z,null,r.createElement(ct.Z,null,r.createElement(at.Z,{padding:"checkbox"},r.createElement(oe.Z,{indeterminate:c>0&&c<o,checked:o>0&&c===o,onChange:n,inputProps:{"aria-label":"select all fresh bucket items"}})),Jt.map((function(e){return r.createElement(at.Z,{key:e.id,align:e.numeric?"right":"left",padding:e.disablePadding?"none":"normal",sortDirection:l===e.id&&a},r.createElement(ht.Z,{active:l===e.id,direction:l===e.id?a:"asc",onClick:(n=e.id,function(e){i(e,n)})},e.label,l===e.id?r.createElement("span",{className:t.visuallyHidden},"desc"===a?"sorted descending":"sorted ascending"):null));var n}))))}Xt.propTypes={classes:Qe().object.isRequired,numSelected:Qe().number.isRequired,onRequestSort:Qe().func.isRequired,onSelectAllClick:Qe().func.isRequired,order:Qe().oneOf(["asc","desc"]).isRequired,orderBy:Qe().string.isRequired,rowCount:Qe().number.isRequired};var en=(0,fe.Z)((function(e){return{root:{paddingLeft:e.spacing(2),paddingRight:e.spacing(1)},highlight:"light"===e.palette.type?{color:e.palette.secondary.main,backgroundColor:(0,pt.$n)(e.palette.secondary.light,.85)}:{color:e.palette.text.primary,backgroundColor:e.palette.secondary.dark},title:{flex:"1 1 100%"}}})),tn=function(){var e=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=u.firestore().collection("freshBasket"),e.next=3,n.where("freshBasket","==",t).get();case 3:if(!(r=e.sent).empty){e.next=7;break}return console.log("no match"),e.abrupt("return");case 7:r.forEach((function(e){n.doc(e.id).delete().then((function(){return console.log("deleted")})).catch((function(e){return console.log(e)}))}));case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),nn=function(e){var t=en(),n=e.numSelected,a=e.selected,l=e.setSelected,c=(0,J.I0)(),o=(0,J.v9)(V),i=o.products;return o.productsLoading,console.log("num selected =>",n),r.createElement(ke.Z,{className:(0,be.default)(t.root,(0,Ze.Z)({},t.highlight,n>0))},n>0?r.createElement(me.Z,{className:t.title,color:"inherit",variant:"subtitle1",component:"div"},n," selected"):r.createElement(me.Z,{className:t.title,variant:"h6",id:"tableTitle",component:"div"},"Product List"),n>0?r.createElement(Zt.ZP,{title:"Delete"},r.createElement(we.Z,{"aria-label":"delete",onClick:function(){a.forEach((function(e){console.log(e),tn(e);var t=i.findIndex((function(t){return t.productName==e}));console.log("index of...=>",t),c(function(e){return function(t){t(Q(e))}}(e))})),l([])}},r.createElement(vt.Z,null))):r.createElement(Zt.ZP,{title:"Filter list"},r.createElement(we.Z,{"aria-label":"filter list"},r.createElement(yt.Z,null))))};nn.propTypes={numSelected:Qe().number.isRequired};var rn=(0,fe.Z)((function(e){return{root:{width:"100%"},paper:{width:"100%",marginBottom:e.spacing(2)},table:{minWidth:750},visuallyHidden:{border:0,clip:"rect(0 0 0 0)",height:1,margin:-1,overflow:"hidden",padding:0,position:"absolute",top:20,width:1}}}));function an(){var e=rn(),t=r.useState("asc"),n=(0,te.Z)(t,2),a=n[0],l=n[1],o=r.useState("calories"),s=(0,te.Z)(o,2),d=s[0],m=s[1],f=r.useState([]),p=(0,te.Z)(f,2),g=p[0],E=p[1],h=r.useState(0),Z=(0,te.Z)(h,2),b=Z[0],v=Z[1],y=r.useState(!1),k=(0,te.Z)(y,2),S=k[0],C=k[1],w=r.useState(5),x=(0,te.Z)(w,2),P=x[0],N=x[1],L=(0,J.I0)(),R=(0,J.v9)(V),I=R.products;R.productsLoading,(0,r.useEffect)((function(){L((function(e){e(_())})),L(function(){var e=(0,c.Z)(i().mark((function e(t){var n,r;return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(K),n=u.firestore().collection("freshBasket").orderBy("modified","desc"),e.next=4,n.get();case 4:(r=e.sent).empty?(t(G()),console.log("empty bucket")):r.forEach((function(e){t(z(e.data()))}));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[L]);var O=function(e,t){if(null===e){var n=new Date;return"".concat(n.toLocaleDateString()," ").concat(n.toLocaleTimeString())}var r=new Date(1e3*(e+1e-8*t));return"".concat(r.toLocaleDateString()," ").concat(r.toLocaleTimeString())};console.log("fresh basket items >>>",I);var B,T,D,q=P-Math.min(P,I.length-b*P);return console.log(g),r.createElement("div",{className:e.root},r.createElement(Yt,null),r.createElement(Be.Z,{className:e.paper},r.createElement(nn,{numSelected:g.length,selected:g,setSelected:E}),r.createElement(gt.Z,null,r.createElement(nt.Z,{className:e.table,"aria-labelledby":"tableTitle",size:S?"small":"medium","aria-label":"enhanced table"},r.createElement(Xt,{classes:e,numSelected:g.length,order:a,orderBy:d,onSelectAllClick:function(e){if(e.target.checked){var t=I.map((function(e){return e.productName}));E(t)}else E([])},onRequestSort:function(e,t){l(d===t&&"asc"===a?"desc":"asc"),m(t)},rowCount:I.length}),r.createElement(rt.Z,null,(B=I,T=function(e,t){return"desc"===e?function(e,n){return $t(e,n,t)}:function(e,n){return-$t(e,n,t)}}(a,d),D=B.map((function(e,t){return[e,t]})),D.sort((function(e,t){var n=T(e[0],t[0]);return 0!==n?n:e[1]-t[1]})),D.map((function(e){return e[0]}))).slice(b*P,b*P+P).map((function(e,t){var n,a=(n=e.productName,-1!==g.indexOf(n)),l="enhanced-table-checkbox-".concat(t);return r.createElement(ct.Z,{hover:!0,onClick:function(t){return function(e,t){var n=g.indexOf(t),r=[];-1===n?r=r.concat(g,t):0===n?r=r.concat(g.slice(1)):n===g.length-1?r=r.concat(g.slice(0,-1)):n>0&&(r=r.concat(g.slice(0,n),g.slice(n+1))),E(r)}(0,e.productName)},role:"checkbox","aria-checked":a,tabIndex:-1,key:t,selected:a},r.createElement(at.Z,{padding:"checkbox"},r.createElement(oe.Z,{checked:a,inputProps:{"aria-labelledby":l}})),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.productName),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.bucketItems.toString().replace(/,/g,"+")),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.sellingPrice),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.created&&O(e.created.seconds,e.created.nanoseconds),!e.created&&O(null)),r.createElement(at.Z,{component:"th",id:l,scope:"row",padding:"none"},e.modified&&O(e.modified.seconds,e.modified.nanoseconds),!e.modified&&O(null)))})),q>0&&r.createElement(ct.Z,{style:{height:(S?33:53)*q}},r.createElement(at.Z,{colSpan:6}))))),r.createElement(Et.Z,{rowsPerPageOptions:[5,10,25],component:"div",count:I.length,rowsPerPage:P,page:b,onPageChange:function(e,t){v(t)},onRowsPerPageChange:function(e){N(parseInt(e.target.value,10)),v(0)}})),r.createElement(ce.Z,{control:r.createElement(bt.Z,{checked:S,onChange:function(e){C(e.target.checked)}}),label:"Dense padding"}))}var ln=n(998),cn=n(6869),on=n(5757),sn=n(442),un=n(8346),dn=n(3219),mn=n(9634),fn=n(1195);function pn(){var e=(0,ee.k6)();return r.createElement("div",null,r.createElement(ln.Z,{onClick:function(t){e.push("/")},button:!0},r.createElement(cn.Z,null,r.createElement(sn.Z,null)),r.createElement(on.Z,{primary:"Dashboard",style:{color:"inherit"}})),r.createElement(ln.Z,{button:!0},r.createElement(cn.Z,null,r.createElement(un.Z,null)),r.createElement(on.Z,{primary:"Orders"})),r.createElement(ln.Z,{button:!0},r.createElement(cn.Z,null,r.createElement(dn.Z,null)),r.createElement(on.Z,{primary:"Customers"})),r.createElement(ln.Z,{button:!0},r.createElement(cn.Z,null,r.createElement(mn.Z,null)),r.createElement(on.Z,{primary:"Reports"})),r.createElement(ln.Z,{onClick:function(t){e.push("/products")},button:!0},r.createElement(cn.Z,null,r.createElement(fn.Z,null)),r.createElement(on.Z,{primary:"Products"})),r.createElement(ln.Z,{onClick:function(t){e.push("/freshbasket")},button:!0},r.createElement(cn.Z,null,r.createElement(fn.Z,null)),r.createElement(on.Z,{primary:"Fresh basket"})),r.createElement(ln.Z,{onClick:function(t){e.push("/offers")},button:!0},r.createElement(cn.Z,null,r.createElement(fn.Z,null)),r.createElement(on.Z,{primary:"Offers"})))}var gn=n(6837),En=n(4152);function hn(){return r.createElement("div",null,r.createElement(gn.Z,{inset:!0},"Saved reports"),r.createElement(ln.Z,{button:!0},r.createElement(cn.Z,null,r.createElement(En.Z,null)),r.createElement(on.Z,{primary:"Current month"})),r.createElement(ln.Z,{button:!0},r.createElement(cn.Z,null,r.createElement(En.Z,null)),r.createElement(on.Z,{primary:"Last quarter"})),r.createElement(ln.Z,{button:!0},r.createElement(cn.Z,null,r.createElement(En.Z,null)),r.createElement(on.Z,{primary:"Year-end sale"})))}function Zn(){return r.createElement(me.Z,{variant:"body2",color:"textSecondary",align:"center"},"Copyright © ",r.createElement(ie.Z,{color:"inherit",href:"https://material-ui.com/"},"Your Website")," ",(new Date).getFullYear(),".")}function bn(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?bn(Object(n),!0).forEach((function(t){(0,Ze.Z)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bn(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var yn=(0,fe.Z)((function(e){return{root:{display:"flex"},toolbar:{paddingRight:24},toolbarIcon:vn({display:"flex",alignItems:"center",justifyContent:"flex-end",padding:"0 8px"},e.mixins.toolbar),appBar:{zIndex:e.zIndex.drawer+1,transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{marginLeft:240,width:"calc(100% - ".concat(240,"px)"),transition:e.transitions.create(["width","margin"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:36},menuButtonHidden:{display:"none"},title:{flexGrow:1},drawerPaper:{position:"relative",whiteSpace:"nowrap",width:240,transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.enteringScreen})},drawerPaperClose:(0,Ze.Z)({overflowX:"hidden",transition:e.transitions.create("width",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),width:e.spacing(7)},e.breakpoints.up("sm"),{width:e.spacing(9)}),appBarSpacer:e.mixins.toolbar,content:{flexGrow:1,height:"100vh",overflow:"auto"},container:{paddingTop:e.spacing(4),paddingBottom:e.spacing(4)}}}));function kn(e){var t=yn(),n=r.useState(!0),a=(0,te.Z)(n,2),l=a[0],c=a[1];return r.createElement("div",{className:t.root},r.createElement(ae.ZP,null),r.createElement(ye.Z,{position:"absolute",className:(0,be.default)(t.appBar,l&&t.appBarShift)},r.createElement(ke.Z,{className:t.toolbar},r.createElement(we.Z,{edge:"start",color:"inherit","aria-label":"open drawer",onClick:function(){c(!0)},className:(0,be.default)(t.menuButton,l&&t.menuButtonHidden)},r.createElement(Pe.Z,null)),r.createElement(me.Z,{component:"h1",variant:"h6",color:"inherit",noWrap:!0,className:t.title},"Agro Fresh DL"),r.createElement(we.Z,{color:"inherit"},r.createElement(xe.Z,{badgeContent:4,color:"secondary"},r.createElement(Le.Z,null))),r.createElement(Me,null))),r.createElement(ve.ZP,{variant:"permanent",classes:{paper:(0,be.default)(t.drawerPaper,!l&&t.drawerPaperClose)},open:l},r.createElement("div",{className:t.toolbarIcon},r.createElement(we.Z,{onClick:function(){c(!1)}},r.createElement(Ne.Z,null))),r.createElement(Ce.Z,null),r.createElement(Se.Z,null,r.createElement(pn,null)),r.createElement(Ce.Z,null),r.createElement(Se.Z,null,r.createElement(hn,null))),r.createElement("main",{className:t.content},r.createElement("div",{className:t.appBarSpacer}),r.createElement(pe.Z,{maxWidth:"lg",className:t.container},"main"===e.content&&r.createElement(ft,null),"products"===e.content&&r.createElement(qt,null),"freshbasket"===e.content&&r.createElement(an,null),"offers"===e.content&&r.createElement(Gt,null),r.createElement(ue.Z,{pt:4},r.createElement(Zn,null)))))}function Sn(){var e=(0,J.I0)(),t=(0,J.v9)(m),n=t.user,a=t.signIn,l=t.userLoading;return console.log(n,a,l),(0,r.useEffect)((function(){e(function(){var e=(0,c.Z)(i().mark((function e(t){return i().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t(p),u.auth().onAuthStateChanged((function(e){t(e?g(e.uid):E())}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[e]),r.createElement(X.VK,null,r.createElement(ee.rs,null,r.createElement(ee.AW,{path:"/signin"},r.createElement(he,null)),r.createElement(ee.AW,{path:"/offers"},r.createElement(kn,{content:"offers"})),r.createElement(ee.AW,{path:"/products"},r.createElement(kn,{content:"products"})),r.createElement(ee.AW,{path:"/freshbasket"},r.createElement(kn,{content:"freshbasket"})),r.createElement(ee.AW,{path:"/"},r.createElement(kn,{content:"main"}))))}var Cn=document.createElement("div");Cn.setAttribute("id","root"),document.body.appendChild(Cn),a.render(r.createElement(J.zt,{store:$},r.createElement(Sn,null)),Cn)}},e=>{"use strict";e.O(0,[216],(()=>(6466,e(e.s=6466)))),e.O()}]);
//# sourceMappingURL=app.a0d186fb831d292b26c0.js.map